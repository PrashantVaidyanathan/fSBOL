function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Cctor:function(n){var t=!0;return function(){t&&(t=!1,n())}},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){window.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ;a=window;b=a.Microsoft=a.Microsoft||{};c=b.Research=b.Research||{};d=c.FSBOL=c.FSBOL||{};e=d.Terms=d.Terms||{};f=a.StartupCode$FSBOLJS$Terms=a.StartupCode$FSBOLJS$Terms||{};g=d.QualifiedName=d.QualifiedName||{};h=a.StartupCode$FSBOLJS$QualifiedName=a.StartupCode$FSBOLJS$QualifiedName||{};i=d.Identifiers=d.Identifiers||{};j=i.Identifiers=i.Identifiers||{};k=d.Sequence=d.Sequence||{};l=k.Sequence=k.Sequence||{};m=d.Component=d.Component||{};n=m.Component=m.Component||{};o=d.Range=d.Range||{};p=o.Range=o.Range||{};q=d.SequenceAnnotation=d.SequenceAnnotation||{};r=q.SequenceAnnotation=q.SequenceAnnotation||{};s=d.ComponentDefinition=d.ComponentDefinition||{};t=s.ComponentDefinition=s.ComponentDefinition||{};u=d.FunctionalComponent=d.FunctionalComponent||{};v=u.FunctionalComponent=u.FunctionalComponent||{};w=d.Participation=d.Participation||{};x=w.Participation=w.Participation||{};y=d.Interaction=d.Interaction||{};z=y.Interaction=y.Interaction||{};A=d.ModuleDefinition=d.ModuleDefinition||{};B=A.ModuleDefinition=A.ModuleDefinition||{};C=d.SBOLDocument=d.SBOLDocument||{};D=C.SBOLDocument=C.SBOLDocument||{};E=d.JsonSerializer=d.JsonSerializer||{};F=E.jAnnotation=E.jAnnotation||{};G=E.jSequence=E.jSequence||{};H=E.jComponent=E.jComponent||{};I=E.jRange=E.jRange||{};J=E.jSequenceAnnotation=E.jSequenceAnnotation||{};K=E.jComponentDefinition=E.jComponentDefinition||{};L=E.jFunctionalComponent=E.jFunctionalComponent||{};M=E.jParticipation=E.jParticipation||{};N=E.jInteraction=E.jInteraction||{};O=E.jModuleDefinition=E.jModuleDefinition||{};P=E.jSBOLDocument=E.jSBOLDocument||{};Q=a.SPAEntryPoint=a.SPAEntryPoint||{};R=Q.Client=Q.Client||{};S=a.WebSharper=a.WebSharper||{};T=S.Collections=S.Collections||{};U=T.BalancedTree=T.BalancedTree||{};V=U.Tree=U.Tree||{};W=T.Pair=T.Pair||{};X=T.MapUtil=T.MapUtil||{};Y=T.FSharpMap=T.FSharpMap||{};Z=T.Map=T.Map||{};_0=T.FSharpSet=T.FSharpSet||{};_1=T.Set=T.Set||{};_2=T.ListEnumerator=T.ListEnumerator||{};_3=T.List=T.List||{};_4=T.ResizeArray=T.ResizeArray||{};_5=T.LinkedListEnumerator=T.LinkedListEnumerator||{};_6=T.LinkedList=T.LinkedList||{};_7=S.Grouping=S.Grouping||{};_8=S.FsComparer=S.FsComparer||{};_9=S.ProjectionComparer=S.ProjectionComparer||{};_=S.CompoundComparer=S.CompoundComparer||{};$=S.ReverseComparer=S.ReverseComparer||{};ba=S.OrderedEnumerable=S.OrderedEnumerable||{};bb=S.Linq=S.Linq||{};bc=S.Control=S.Control||{};bd=bc.Observer=bc.Observer||{};be=bd.Message=bd.Message||{};bf=bc.HotStream=bc.HotStream||{};bg=bf.HotStream=bf.HotStream||{};bh=bc.Observable=bc.Observable||{};bi=b.FSharp=b.FSharp||{};bj=bi.Control=bi.Control||{};bk=bj.ObservableModule=bj.ObservableModule||{};bl=bc.Event=bc.Event||{};bm=bl.Event=bl.Event||{};bn=bc.DelegateEvent=bc.DelegateEvent||{};bo=bn.DelegateEvent=bn.DelegateEvent||{};bp=bc.FSharpEvent=bc.FSharpEvent||{};bq=bc.FSharpDelegateEvent=bc.FSharpDelegateEvent||{};br=bj.EventModule=bj.EventModule||{};bs=bc.MailboxProcessor=bc.MailboxProcessor||{};bt=S.JavaScript=S.JavaScript||{};bu=bt.JSModule=bt.JSModule||{};bv=T.EqualityComparer=T.EqualityComparer||{};bw=S.MacroModule=S.MacroModule||{};bx=bw.EquatableEqualityComparer=bw.EquatableEqualityComparer||{};by=bw.BaseEqualityComparer=bw.BaseEqualityComparer||{};bz=T.Comparer=T.Comparer||{};bA=bw.ComparableComparer=bw.ComparableComparer||{};bB=bw.BaseComparer=bw.BaseComparer||{};bC=bt.Pervasives=bt.Pervasives||{};bD=S.Json=S.Json||{};bE=S.Remoting=S.Remoting||{};bF=bE.XhrProvider=bE.XhrProvider||{};bG=bE.AjaxRemotingProvider=bE.AjaxRemotingProvider||{};bH=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};bI=S.PrintfHelpers=S.PrintfHelpers||{};bJ=S.Concurrency=S.Concurrency||{};bK=bJ.Scheduler=bJ.Scheduler||{};bL=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bM=S.Enumerator=S.Enumerator||{};bN=bM.T=bM.T||{};bO=S.HtmlContentExtensions=S.HtmlContentExtensions||{};bP=bO.SingleNode=bO.SingleNode||{};bQ=S.Activator=S.Activator||{};bR=bt.Optional=bt.Optional||{};bS=S.Arrays=S.Arrays||{};bT=S.Seq=S.Seq||{};bU=S.List=S.List||{};bV=S.Arrays2D=S.Arrays2D||{};bW=S.CancellationTokenSource=S.CancellationTokenSource||{};bX=S.Char=S.Char||{};bY=S.Util=S.Util||{};bZ=S.DateUtil=S.DateUtil||{};b0=S.DateTimeOffset=S.DateTimeOffset||{};b1=S.Delegate=S.Delegate||{};b2=T.DictionaryUtil=T.DictionaryUtil||{};b3=T.KeyCollection=T.KeyCollection||{};b4=T.ValueCollection=T.ValueCollection||{};b5=T.Dictionary=T.Dictionary||{};b6=S.MatchFailureException=S.MatchFailureException||{};b7=S.IndexOutOfRangeException=S.IndexOutOfRangeException||{};b8=S.OperationCanceledException=S.OperationCanceledException||{};b9=S.ArgumentException=S.ArgumentException||{};b_=S.ArgumentOutOfRangeException=S.ArgumentOutOfRangeException||{};b$=S.InvalidOperationException=S.InvalidOperationException||{};ca=S.AggregateException=S.AggregateException||{};cb=S.TimeoutException=S.TimeoutException||{};cc=S.FormatException=S.FormatException||{};cd=S.OverflowException=S.OverflowException||{};ce=S.Guid=S.Guid||{};cf=T.HashSetUtil=T.HashSetUtil||{};cg=T.HashSet=T.HashSet||{};ch=S.Lazy=S.Lazy||{};ci=bU.T=bU.T||{};cj=S.Nullable=S.Nullable||{};ck=S.Operators=S.Operators||{};cl=S.Slice=S.Slice||{};cm=S.Option=S.Option||{};cn=S.Queue=S.Queue||{};co=S.Random=S.Random||{};cp=S.Ref=S.Ref||{};cq=S.Result=S.Result||{};cr=S.Stack=S.Stack||{};cs=S.Strings=S.Strings||{};ct=S.Task=S.Task||{};cu=S.Task1=S.Task1||{};cv=S.TaskCompletionSource=S.TaskCompletionSource||{};cw=S.Unchecked=S.Unchecked||{};cx=S.Numeric=S.Numeric||{};cy=bD.Provider=bD.Provider||{};cz=S.Web=S.Web||{};cA=cz.Control=cz.Control||{};cB=cz.FSharpInlineControl=cz.FSharpInlineControl||{};cC=cz.InlineControl=cz.InlineControl||{};cD=a.IntelliFactory;cE=cD&&cD.Runtime;cF=a.JSON;cG=a.Date;cH=a.console;cI=a.String;cJ=a.Math;e.inlineOrientation=function(){f.$cctor();return f.inlineOrientation;};e.product=function(){f.$cctor();return f.product;};e.template=function(){f.$cctor();return f.template;};e.stimulation=function(){f.$cctor();return f.stimulation;};e.stimulated=function(){f.$cctor();return f.stimulated;};e.stimulator=function(){f.$cctor();return f.stimulator;};e.inhibited=function(){f.$cctor();return f.inhibited;};e.inhibitor=function(){f.$cctor();return f.inhibitor;};e.inhibition=function(){f.$cctor();return f.inhibition;};e.production=function(){f.$cctor();return f.production;};e.fcNone=function(){f.$cctor();return f.fcNone;};e.fcInOut=function(){f.$cctor();return f.fcInOut;};e.fcOutput=function(){f.$cctor();return f.fcOutput;};e.fcInput=function(){f.$cctor();return f.fcInput;};e.publicAccess=function(){f.$cctor();return f.publicAccess;};e.privateAccess=function(){f.$cctor();return f.privateAccess;};e.engineeredRegion=function(){f.$cctor();return f.engineeredRegion;};e.terminator=function(){f.$cctor();return f.terminator;};e.rbs=function(){f.$cctor();return f.rbs;};e.promoter=function(){f.$cctor();return f.promoter;};e.pcr=function(){f.$cctor();return f.pcr;};e.cds=function(){f.$cctor();return f.cds;};e.scar=function(){f.$cctor();return f.scar;};e.ribozyme=function(){f.$cctor();return f.ribozyme;};e.protein=function(){f.$cctor();return f.protein;};e.dnaRegion=function(){f.$cctor();return f.dnaRegion;};e.dnasequence=function(){f.$cctor();return f.dnasequence;};e.xmlns=function(){f.$cctor();return f.xmlns;};e.provns=function(){f.$cctor();return f.provns;};e.rdfns=function(){f.$cctor();return f.rdfns;};e.dctermsns=function(){f.$cctor();return f.dctermsns;};e.sbolns=function(){f.$cctor();return f.sbolns;};e.sbo=function(){f.$cctor();return f.sbo;};e.so=function(){f.$cctor();return f.so;};f.$cctor=cE.Cctor(function(){f.so="http://identifiers.org/so/";f.sbo="http://identifiers.org/biomodels.sbo/";f.sbolns="http://sbols.org/v2#";f.dctermsns="http://purl.org/dc/terms/";f.rdfns="http://www.w3.org/1999/02/22-rdf-syntax-ns#";f.provns="http://www.w3.org/ns/prov#";f.xmlns="http://www.w3.org/2000/xmlns/";f.dnasequence="http://www.chem.qmul.ac.uk/iubmb/misc/naseq.html";f.dnaRegion="http://www.biopax.org/release/biopax-level3.owl#DnaRegion";f.protein="http://www.biopax.org/release/biopax-level3.owl#Protein";f.ribozyme=e.so()+"SO:0000374";f.scar=e.so()+"SO:0001953";f.cds=e.so()+"SO:0000316";f.pcr=e.so()+"SO:0000316";f.promoter=e.so()+"SO:0000167";f.rbs=e.so()+"SO:0000139";f.terminator=e.so()+"SO:0000141";f.engineeredRegion="http://identifiers.org/so/SO:0000804";f.privateAccess="http://sbols.org/v2#private";f.publicAccess="http://sbols.org/v2#public";f.fcInput=e.sbolns()+"in";f.fcOutput=e.sbolns()+"out";f.fcInOut=e.sbolns()+"inout";f.fcNone=e.sbolns()+"none";f.production=e.sbo()+"SBO:0000589";f.inhibition=e.sbo()+"SBO:0000169";f.inhibitor=e.sbo()+"SBO:0000020";f.inhibited=e.sbo()+"SBO:0000642";f.stimulator=e.sbo()+"SBO:0000459";f.stimulated=e.sbo()+"SBO:0000643";f.stimulation=e.sbo()+"SBO:0000170";f.template=e.sbo()+"SBO:0000645";f.product=e.sbo()+"SBO:0000011";f.inlineOrientation="http://sbols.org/v2#inline";f.$cctor=a.ignore;});g.ModuleDefinition=function(){h.$cctor();return h.ModuleDefinition;};g.Interaction=function(){h.$cctor();return h.Interaction;};g.Participation=function(){h.$cctor();return h.Participation;};g.FunctionalComponent=function(){h.$cctor();return h.FunctionalComponent;};g.ComponentDefinition=function(){h.$cctor();return h.ComponentDefinition;};g.Sequence=function(){h.$cctor();return h.Sequence;};g.Component=function(){h.$cctor();return h.Component;};g.SequenceAnnotation=function(){h.$cctor();return h.SequenceAnnotation;};g.Range=function(){h.$cctor();return h.Range;};g.moduleDefinitionProperty=function(){h.$cctor();return h.moduleDefinitionProperty;};g.interactionProperty=function(){h.$cctor();return h.interactionProperty;};g.participationProperty=function(){h.$cctor();return h.participationProperty;};g.functionalComponentProperty=function(){h.$cctor();return h.functionalComponentProperty;};g.componentDefinitionProperty=function(){h.$cctor();return h.componentDefinitionProperty;};g.sequenceProperty=function(){h.$cctor();return h.sequenceProperty;};g.componentProperty=function(){h.$cctor();return h.componentProperty;};g.sequenceAnnotationProperty=function(){h.$cctor();return h.sequenceAnnotationProperty;};g.locationProperty=function(){h.$cctor();return h.locationProperty;};g.participant=function(){h.$cctor();return h.participant;};g.direction=function(){h.$cctor();return h.direction;};g.access=function(){h.$cctor();return h.access;};g.typeProperty=function(){h.$cctor();return h.typeProperty;};g.role=function(){h.$cctor();return h.role;};g.definition=function(){h.$cctor();return h.definition;};g.encoding=function(){h.$cctor();return h.encoding;};g.elements=function(){h.$cctor();return h.elements;};g.orientation=function(){h.$cctor();return h.orientation;};g.endIndex=function(){h.$cctor();return h.endIndex;};g.startIndex=function(){h.$cctor();return h.startIndex;};g.description=function(){h.$cctor();return h.description;};g.name=function(){h.$cctor();return h.name;};g.persistentIdentity=function(){h.$cctor();return h.persistentIdentity;};g.version=function(){h.$cctor();return h.version;};g.displayId=function(){h.$cctor();return h.displayId;};g.id=function(){h.$cctor();return h.id;};g.dctermsQN=function(){h.$cctor();return h.dctermsQN;};g.provQN=function(){h.$cctor();return h.provQN;};g.rdfQN=function(){h.$cctor();return h.rdfQN;};g.sbolQN=function(){h.$cctor();return h.sbolQN;};h.$cctor=cE.Cctor(function(){h.sbolQN="xmlns:sbol";h.rdfQN="rdf:RDF";h.provQN="xmlns:prov";h.dctermsQN="xmlns:dcterms";h.id="rdf:about";h.displayId="sbol:displayId";h.version="sbol:version";h.persistentIdentity="sbol:persistentIdentity";h.name="dcterms:title";h.description="dcterms:description";h.startIndex="sbol:start";h.endIndex="sbol:end";h.orientation="sbol:orientation";h.elements="sbol:elements";h.encoding="sbol:encoding";h.definition="sbol:definition";h.role="sbol:role";h.typeProperty="sbol:type";h.access="sbol:access";h.direction="sbol:direction";h.participant="sbol:participant";h.locationProperty="sbol:location";h.sequenceAnnotationProperty="sbol:sequenceAnnotation";h.componentProperty="sbol:component";h.sequenceProperty="sbol:sequence";h.componentDefinitionProperty="sbol:componentDefinition";h.functionalComponentProperty="sbol:functionalComponent";h.participationProperty="sbol:participation";h.interactionProperty="sbol:interaction";h.moduleDefinitionProperty="sbol:moduleDefinition";h.Range="sbol:Range";h.SequenceAnnotation="sbol:SequenceAnnotation";h.Component="sbol:Component";h.Sequence="sbol:Sequence";h.ComponentDefinition="sbol:ComponentDefinition";h.FunctionalComponent="sbol:FunctionalComponent";h.Participation="sbol:Participation";h.Interaction="sbol:Interaction";h.ModuleDefinition="sbol:ModuleDefinition";h.$cctor=a.ignore;});j=i.Identifiers=cE.Class({getStringAnnotations:function(){return bU.map(function(cK){return[cK.K,cK.V];},bU.ofSeq(this.get_stringAnnotations()));},getUriAnnotations:function(){return bU.map(function(cK){return[cK.K,cK.V];},bU.ofSeq(this.get_uriAnnotations()));},getStringAnnotation:function(cK){return this.get_stringAnnotations().ContainsKey(cK)?{$:1,$0:this.get_stringAnnotations().get_Item(cK)}:null;},getUriAnnotation:function(cK){return this.get_uriAnnotations().ContainsKey(cK)?{$:1,$0:this.get_uriAnnotations().get_Item(cK)}:null;},addStringAnnotation:function(cK,cL){this.get_stringAnnotations().Add(cK,cL);},addUriAnnotation:function(cK,cL){this.get_uriAnnotations().Add(cK,cL);},get_stringAnnotations:function(){return new b5.New$5();},get_uriAnnotations:function(){return new b5.New$5();},set_description:function(cK){this.description=cK;},get_description:function(){return this.description;},get_uri:function(){return this.uri;},get_persistentIdentity:function(){return this.persistentIdentity;},get_displayId:function(){return this.displayId;},get_name:function(){return this.name;},get_version:function(){return this.version;}},null,j);j.New=cE.Ctor(function(cK,cL,cM,cN){var cO;cO=cL+"/"+cM;this.version=cN;this.name=cK;this.displayId=cM;this.persistentIdentity=cO;this.uri=cO+"/"+cN;this.description="";},j);l=k.Sequence=cE.Class({get_encoding:function(){return this.encoding;},get_elements:function(){return this.sequence;}},j,l);l.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP){j.New.call(this,cK,cL,cM,cN);this.sequence=cO;this.encoding=cP;},l);n=m.Component=cE.Class({get_definition:function(){return this.definition;},get_access:function(){return this.access;}},j,n);n.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP){j.New.call(this,cK,cL,cM,cN);this.access=cO;this.definition=cP;},n);p=o.Range=cE.Class({get_orientation:function(){return this.orientation;},get_endIndex:function(){return this.endIndex;},get_startIndex:function(){return this.startIndex;}},j,p);p.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP,cQ){j.New.call(this,cK,cL,cM,cN);this.startIndex=cO;this.endIndex=cP;this.orientation=cQ;},p);r=q.SequenceAnnotation=cE.Class({get_locations:function(){return this.locations;},get_componentObject:function(){return this.componentObject;}},j,r);r.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP){j.New.call(this,cK,cL,cM,cN);this.componentObject=cO;this.locations=cP;},r);t=s.ComponentDefinition=cE.Class({get_components:function(){return this.components;},get_sequenceAnnotations:function(){return this.sequenceAnnotations;},get_sequences:function(){return this.sequences;},get_types:function(){return this.types;},get_roles:function(){return this.roles;}},j,t);t.getConcatenatedSequence=function(cK){return cK.$==1?bT.fold(function(cL,cM){return cL+cM.get_elements();},"",cK.$0.get_sequences())+t.getConcatenatedSequence(cK.$1):"";};t.createRanges=function(cK,cL){var cM,cN,cO,cP,cQ,cR,cS,cT,cU;cM=1;cN=1;cP=new _3.New$2();cQ=bM.Get(cL);try{while(cQ.MoveNext()){cR=cQ.Current();cS=cR.get_sequences();cT=bM.Get(cS);try{while(cT.MoveNext()){cU=cT.Current();cP.Add(new p.New("range",cK+"annotation"+a.String(cM)+"/range",cR.get_displayId()+"_range",cR.get_version(),cN,cN+cU.get_elements().length-1,e.inlineOrientation()));cN=cN+cU.get_elements().length;cM=cM+1;}}finally{if("Dispose"in cT)cT.Dispose();}}}finally{if("Dispose"in cQ)cQ.Dispose();}return bU.ofArray(cP.ToArray());};t.createSequenceAnnotationFromSingleRange=function(cK){function cL(cM,cN,cO){return new r.New("annotation"+a.String(cM),cK,"annotation"+a.String(cM),cO.get_version(),cN,bU.ofArray([{$:0,$0:cO}]));}return function(cM){return cL(cM[0],cM[1],cM[2]);};};t.createComponent=function(cK){return function(cL){return new n.New(cL.get_name()+"_component",cK,cL.get_displayId()+"_component",cL.get_version(),e.privateAccess(),cL.get_uri());};};t.createHigherFunction=function(cK,cL,cM,cN,cO,cP,cQ){var cR,cS,cT,cU;cR=bU.map(t.createComponent(cL),cQ);cS=t.createRanges(cL,cQ);cT=bU.zip3(bU.ofSeq(ck.range(1,cQ.get_Length())),cR,cS);cU=bU.map(t.createSequenceAnnotationFromSingleRange(cL),cT);return new t.New(cK,cL,cM,cN,cO,cP,bU.ofArray([new l.New(cK+"_sequence",cL,cM+"_sequence",cN,t.getConcatenatedSequence(cQ),e.dnasequence())]),cR,cU);};t.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){t.$cctor();j.New.call(this,cK,cL,cM,cN);this.types=cO;this.roles=cP;this.sequences=cQ;this.components=cR;this.sequenceAnnotations=cS;},t);v=u.FunctionalComponent=cE.Class({get_direction:function(){return this.direction;},get_definition:function(){return this.definition;},get_access:function(){return this.access;}},j,v);v.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP,cQ){j.New.call(this,cK,cL,cM,cN);this.access=cO;this.direction=cP;this.definition=cQ;},v);x=w.Participation=cE.Class({get_participant:function(){return this.participant;},get_roles:function(){return this.roles;}},j,x);x.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP){j.New.call(this,cK,cL,cM,cN);this.roles=cO;this.participant=cP;},x);z=y.Interaction=cE.Class({get_participations:function(){return this.participations;},get_types:function(){return this.types;}},j,z);z.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP){j.New.call(this,cK,cL,cM,cN);this.types=cO;this.participations=cP;},z);B=A.ModuleDefinition=cE.Class({get_interactions:function(){return this.interactions;},get_functionalComponents:function(){return this.functionalComponents;}},j,B);B.New=cE.Ctor(function(cK,cL,cM,cN,cO,cP){j.New.call(this,cK,cL,cM,cN);this.functionalComponents=cO;this.interactions=cP;},B);D=C.SBOLDocument=cE.Class({get_collection:function(){return bU.append(bU.map(function(cK){return{$:2,$0:cK.V};},bU.ofSeq(Z.Fold(function(cK,cL,cM){return cK.Add(cL,cM);},Z.OfArray(bS.ofSeq(bU.map(function(cK){return[cK.get_uri(),cK];},bU.map(function(cK){if(cK.$==2)return cK.$0;else throw new b6.New("..\\FSBOL\\SBOLDocument.fs",18,46);},bU.filter(function(cK){return cK.$==2&&true;},this.collection))))),Z.OfArray(bS.ofSeq(bU.map(function(cK){return[cK.get_uri(),cK];},bT.reduce(bU.append,bU.map(function(cK){return cK.get_sequences();},bU.map(function(cK){if(cK.$==1)return cK.$0;else throw new b6.New("..\\FSBOL\\SBOLDocument.fs",25,47);},bU.filter(function(cK){return cK.$==1&&true;},this.collection)))))))))),bU.filter(function(cK){return cK.$==2?false:true;},this.collection));}},null,D);D.New=cE.Ctor(function(cK){this.collection=cK;},D);F.New=function(cK,cL,cM){return{Type:cK,name:cL,value:cM};};G.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,elements:cR,encoding:cS};};H.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,access:cR,definition:cS};};I.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU){return{gecDU:cK,uri:cL,name:cM,persistentIdentity:cN,displayId:cO,version:cP,description:cQ,annotations:cR,startIndex:cS,endIndex:cT,orientation:cU};};J.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,Component:cR,locations:cS};};K.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,components:cR,sequenceAnnotations:cS,sequences:cT,types:cU,roles:cV};};L.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,access:cR,direction:cS,definition:cT};};M.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,roles:cR,participant:cS};};N.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,types:cR,participations:cS};};O.New=function(cK,cL,cM,cN,cO,cP,cQ,cR,cS){return{uri:cK,name:cL,persistentIdentity:cM,displayId:cN,version:cO,description:cP,annotations:cQ,functionalComponents:cR,interactions:cS};};P.New=function(cK,cL,cM){return{componentDefinitions:cK,moduleDefinitions:cL,sequences:cM};};E.serializeSBOLDocument=function(cK){return P.New(bS.ofList(bU.map(E.serializeComponentDefinition,bU.map(function(cL){if(cL.$==1)return cL.$0;else throw new b6.New("..\\FSBOL\\JsonSerializer.fs",299,31);},bU.filter(function(cL){return cL.$==1&&true;},cK.get_collection())))),bS.ofList(bU.map(E.serializeModuleDefinition,bU.map(function(cL){if(cL.$==0)return cL.$0;else throw new b6.New("..\\FSBOL\\JsonSerializer.fs",304,31);},bU.filter(function(cL){return cL.$==0&&true;},cK.get_collection())))),bS.ofList(bU.map(E.serializeSequence,bU.map(function(cL){if(cL.$==2)return cL.$0;else throw new b6.New("..\\FSBOL\\JsonSerializer.fs",309,32);},bU.filter(function(cL){return cL.$==2&&true;},cK.get_collection())))));};E.serializeModuleDefinition=function(cK){var cL,cM,cN;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));cM=bS.ofList(bU.map(E.serializeFunctionalComponent,cK.get_functionalComponents()));cN=bS.ofList(bU.map(E.serializeInteraction,cK.get_interactions()));return O.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cM,cN);};E.serializeInteraction=function(cK){var cL,cM,cN;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));cM=bS.ofList(cK.get_types());cN=bS.ofList(bU.map(E.serializeParticipation,cK.get_participations()));return N.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cM,cN);};E.serializeParticipation=function(cK){var cL,cM;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));cM=bS.ofList(cK.get_roles());return M.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cM,cK.get_participant().get_uri());};E.serializeFunctionalComponent=function(cK){var cL;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));return L.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cK.get_access(),cK.get_direction(),cK.get_definition());};E.serializeComponentDefinition=function(cK){var cL,cM,cN,cO,cP,cQ;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));cM=bS.ofList(bU.map(function(cR){return cR.get_uri();},cK.get_sequences()));cN=bS.ofList(bU.map(E.serializeSequenceAnnotation,cK.get_sequenceAnnotations()));cO=bS.ofList(bU.map(E.serializeComponent,cK.get_components()));cP=bS.ofList(cK.get_types());cQ=bS.ofList(cK.get_roles());return K.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cO,cN,cM,cP,cQ);};E.serializeSequenceAnnotation=function(cK){var cL,cM;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));cM=bS.ofList(bU.map(E.serializeLocation,cK.get_locations()));return J.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cK.get_componentObject().get_uri(),cM);};E.serializeLocation=function(cK){return{$:0,$0:E.serializeRange(cK.$0)};};E.serializeRange=function(cK){var cL;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));return I.New("range",cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cK.get_startIndex(),cK.get_endIndex(),cK.get_orientation());};E.serializeComponent=function(cK){var cL;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));return H.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cK.get_access(),cK.get_definition());};E.serializeSequence=function(cK){var cL;cL=bS.ofList(bU.append(E.serializeUriAnnotations(cK.getUriAnnotations()),E.serializeStringAnnotations(cK.getStringAnnotations())));return G.New(cK.get_uri(),cK.get_name(),cK.get_persistentIdentity(),cK.get_displayId(),cK.get_version(),cK.get_description(),cL,cK.get_elements(),cK.get_encoding());};E.serializeStringAnnotations=function(cK){function cL(cM,cN){return F.New("string",cM,cN);}return bU.map(function(cM){return cL(cM[0],cM[1]);},cK);};E.serializeUriAnnotations=function(cK){function cL(cM,cN){return F.New("uri",cM,cN);}return bU.map(function(cM){return cL(cM[0],cM[1]);},cK);};R.Main=a.ignore;V.New=function(cK,cL,cM,cN,cO){return{Node:cK,Left:cL,Right:cM,Height:cN,Count:cO};};U.TryFind=function(cK,cL){var cM;cM=(U.Lookup(cK,cL))[0];return cM==null?null:{$:1,$0:cM.Node};};U.Contains=function(cK,cL){return!((U.Lookup(cK,cL))[0]==null);};U.Add=function(cK,cL){return U.Put(function(cM,cN){return cN;},cK,cL);};U.Remove=function(cK,cL){var cM,cN,cO,cP;cM=U.Lookup(cK,cL);cN=cM[0];cO=cM[1];return cN==null?cL:cN.Right==null?U.Rebuild(cO,cN.Left):cN.Left==null?U.Rebuild(cO,cN.Right):U.Rebuild(cO,(cP=bS.ofSeq(bT.append(U.Enumerate(false,cN.Left),U.Enumerate(false,cN.Right))),U.Build(cP,0,cP.length-1)));};U.Put=function(cK,cL,cM){var cN,cO;cN=U.Lookup(cL,cM);cO=cN[0];return cO==null?U.Rebuild(cN[1],U.Branch(cL,null,null)):U.Rebuild(cN[1],U.Branch(cK(cO.Node,cL),cO.Left,cO.Right));};U.Rebuild=function(cK,cL){var cM,cO,cP,cQ,cR,cS,cT,cU,cV,cW;function cN(cX){return cX==null?0:cX.Height;}cM=cL;for(cO=0,cP=bS.length(cK)-1;cO<=cP;cO++){cM=(cQ=bS.get(cK,cO),cQ[0]?(cR=cQ[1],(cS=cQ[2],cN(cM)>cN(cS)+1?cN(cM.Left)===cN(cM.Right)+1?(cT=cM.Left,U.Branch(cT.Node,U.Branch(cR,cS,cT.Left),U.Branch(cM.Node,cT.Right,cM.Right))):U.Branch(cM.Node,U.Branch(cR,cS,cM.Left),cM.Right):U.Branch(cR,cS,cM))):(cU=cQ[1],(cV=cQ[2],cN(cM)>cN(cV)+1?cN(cM.Right)===cN(cM.Left)+1?(cW=cM.Right,U.Branch(cW.Node,U.Branch(cM.Node,cM.Left,cW.Left),U.Branch(cU,cW.Right,cV))):U.Branch(cM.Node,cM.Left,U.Branch(cU,cM.Right,cV)):U.Branch(cU,cM,cV))));}return cM;};U.Lookup=function(cK,cL){var cM,cN,cO,cP;cM=[];cN=cL;cO=true;while(cO)if(cN==null)cO=false;else{cP=cw.Compare(cK,cN.Node);cP===0?cO=false:cP===1?(cM.unshift([true,cN.Node,cN.Left]),cN=cN.Right):(cM.unshift([false,cN.Node,cN.Right]),cN=cN.Left);}return[cN,cM];};U.OfSeq=function(cK){var cL;cL=bS.ofSeq(bT.distinct(cK));bS.sortInPlace(cL);return U.Build(cL,0,cL.length-1);};U.Build=function(cK,cL,cM){var cN,cO,cP;return cM-cL+1<=0?null:(cN=(cL+cM)/2>>0,(cO=U.Build(cK,cL,cN-1),(cP=U.Build(cK,cN+1,cM),U.Branch(bS.get(cK,cN),cO,cP))));};U.Enumerate=function(cK,cL){function cM(cN,cO){var cP;while(true)if(cN==null)return cO.$==1?{$:1,$0:[cO.$0[0],[cO.$0[1],cO.$1]]}:null;else if(cK){cP=cN;cN=cP.Right;cO=new ci({$:1,$0:[cP.Node,cP.Left],$1:cO});}else{cP=cN;cN=cP.Left;cO=new ci({$:1,$0:[cP.Node,cP.Right],$1:cO});}}return bT.unfold(function(cN){return cM(cN[0],cN[1]);},[cL,ci.Empty]);};U.Branch=function(cK,cL,cM){var cN,cO;return V.New(cK,cL,cM,1+(cN=cL==null?0:cL.Height,(cO=cM==null?0:cM.Height,cw.Compare(cN,cO)===1?cN:cO)),1+(cL==null?0:cL.Count)+(cM==null?0:cM.Count));};W=T.Pair=cE.Class({Equals:function(cK){return cw.Equals(this.Key,cK.Key);},GetHashCode:function(){return cw.Hash(this.Key);},CompareTo0:function(cK){return cw.Compare(this.Key,cK.Key);}},null,W);W.New=function(cK,cL){return new W({Key:cK,Value:cL});};X.fromSeq=function(cK){var cL;cL=bS.ofSeq(bT.delay(function(){return bT.collect(function(cM){return[W.New(cM[0],cM[1])];},bT.distinctBy(function(cM){return cM[0];},cK));}));bS.sortInPlace(cL);return U.Build(cL,0,cL.length-1);};Y=T.FSharpMap=cE.Class({Equals:function(cK){return this.get_Count()===cK.get_Count()&&bT.forall2(cw.Equals,this,cK);},GetHashCode:function(){return cw.Hash(bS.ofSeq(this));},GetEnumerator$1:function(){return bM.Get(bT.map(function(cK){return{K:cK.Key,V:cK.Value};},U.Enumerate(false,this.tree)));},TryFind:function(cK){var cL;cL=U.TryFind(W.New(cK,void 0),this.tree);return cL==null?null:{$:1,$0:cL.$0.Value};},Remove:function(cK){return new Y.New$1(U.Remove(W.New(cK,void 0),this.tree));},get_Item:function(cK){var cL;cL=this.TryFind(cK);return cL==null?ck.FailWith("The given key was not present in the dictionary."):cL.$0;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var cK;cK=this.tree;return cK==null?0:cK.Count;},ContainsKey:function(cK){return U.Contains(W.New(cK,void 0),this.tree);},Add:function(cK,cL){return new Y.New$1(U.Add(W.New(cK,cL),this.tree));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(cK){return bT.compareWith(cw.Compare,this,cK);}},null,Y);Y.New=cE.Ctor(function(cK){Y.New$1.call(this,X.fromSeq(cK));},Y);Y.New$1=cE.Ctor(function(cK){this.tree=cK;},Y);Z.Map=function(cK,cL){return new Y.New$1(U.OfSeq(bT.map(function(cM){return W.New(cM.Key,cK(cM.Key,cM.Value));},U.Enumerate(false,cL.get_Tree()))));};Z.TryPick=function(cK,cL){return bT.tryPick(function(cM){return cK(cM.K,cM.V);},cL);};Z.TryFindKey=function(cK,cL){return bT.tryPick(function(cM){return cK(cM.K,cM.V)?{$:1,$0:cM.K}:null;},cL);};Z.TryFind=function(cK,cL){return cL.TryFind(cK);};Z.ToSeq=function(cK){return bT.map(function(cL){return[cL.Key,cL.Value];},U.Enumerate(false,cK.get_Tree()));};Z.Pick=function(cK,cL){return bT.pick(function(cM){return cK(cM.K,cM.V);},cL);};Z.Partition=function(cK,cL){var cM,cN,cO;cM=bS.partition(function(cP){return cK(cP.Key,cP.Value);},bS.ofSeq(U.Enumerate(false,cL.get_Tree())));return[new Y.New$1((cN=cM[0],U.Build(cN,0,cN.length-1))),new Y.New$1((cO=cM[1],U.Build(cO,0,cO.length-1)))];};Z.OfArray=function(cK){return new Y.New$1(U.OfSeq(bT.map(function(cL){return W.New(cL[0],cL[1]);},cK)));};Z.Iterate=function(cK,cL){bT.iter(function(cM){cK(cM.K,cM.V);},cL);};Z.ForAll=function(cK,cL){return bT.forall(function(cM){return cK(cM.K,cM.V);},cL);};Z.FoldBack=function(cK,cL,cM){return bT.fold(function(cN,cO){return cK(cO.Key,cO.Value,cN);},cM,U.Enumerate(true,cL.get_Tree()));};Z.Fold=function(cK,cL,cM){return bT.fold(function(cN,cO){return cK(cN,cO.Key,cO.Value);},cL,U.Enumerate(false,cM.get_Tree()));};Z.FindKey=function(cK,cL){return bT.pick(function(cM){return cK(cM.K,cM.V)?{$:1,$0:cM.K}:null;},cL);};Z.Filter=function(cK,cL){var cM;return new Y.New$1((cM=bS.ofSeq(bT.filter(function(cN){return cK(cN.Key,cN.Value);},U.Enumerate(false,cL.get_Tree()))),U.Build(cM,0,cM.length-1)));};Z.Exists=function(cK,cL){return bT.exists(function(cM){return cK(cM.K,cM.V);},cL);};_0=T.FSharpSet=cE.Class({Equals:function(cK){return this.get_Count()===cK.get_Count()&&bT.forall2(cw.Equals,this,cK);},GetHashCode:function(){return -1741749453+cw.Hash(bS.ofSeq(this));},GetEnumerator$1:function(){return bM.Get(U.Enumerate(false,this.tree));},Remove:function(cK){return new _0.New$1(U.Remove(cK,this.tree));},get_MinimumElement:function(){return bT.head(U.Enumerate(false,this.tree));},get_MaximumElement:function(){return bT.head(U.Enumerate(true,this.tree));},IsSupersetOf:function(cK){var cL;cL=this;return bT.forall(function(cM){return cL.Contains(cM);},cK);},IsSubsetOf:function(cK){return bT.forall(function(cL){return cK.Contains(cL);},this);},IsProperSupersetOf:function(cK){return this.IsSupersetOf(cK)&&this.get_Count()>cK.get_Count();},IsProperSubsetOf:function(cK){return this.IsSubsetOf(cK)&&this.get_Count()<cK.get_Count();},get_Tree:function(){return this.tree;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var cK;cK=this.tree;return cK==null?0:cK.Count;},Contains:function(cK){return U.Contains(cK,this.tree);},Add:function(cK){return new _0.New$1(U.Add(cK,this.tree));},sub:function(cK){return _1.Filter(function(cL){return!cK.Contains(cL);},this);},add:function(cK){return new _0.New$1(U.OfSeq(bT.append(this,cK)));},CompareTo0:function(cK){return bT.compareWith(cw.Compare,this,cK);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,_0);_0.op_Subtraction=function(cK,cL){return _1.Filter(function(cM){return!cL.Contains(cM);},cK);};_0.op_Addition=function(cK,cL){return new _0.New$1(U.OfSeq(bT.append(cK,cL)));};_0.New=cE.Ctor(function(cK){_0.New$1.call(this,U.OfSeq(cK));},_0);_0.New$1=cE.Ctor(function(cK){this.tree=cK;},_0);_1.Partition=function(cK,cL){var cM;cM=bS.partition(cK,bS.ofSeq(cL));return[new _0.New$1(U.OfSeq(cM[0])),new _0.New$1(U.OfSeq(cM[1]))];};_1.FoldBack=function(cK,cL,cM){return bT.fold(function(cN,cO){return cK(cO,cN);},cM,U.Enumerate(true,cL.get_Tree()));};_1.Filter=function(cK,cL){var cM;return new _0.New$1((cM=bS.ofSeq(bT.filter(cK,cL)),U.Build(cM,0,cM.length-1)));};_2=T.ListEnumerator=cE.Class({get_Current:function(){return bS.get(this.arr,this.i);},MoveNext$1:function(){this.i=this.i+1;return this.i<bS.length(this.arr);},Dispose:a.ignore,Current:function(){return bS.get(this.arr,this.i);},Reset:function(){ck.FailWith("IEnumerator.Reset not supported");},Current0:function(){return bS.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();}},null,_2);_2.New=cE.Ctor(function(cK){this.arr=cK;this.i=-1;},_2);_3=T.List=cE.Class({ToArray:function(){return this.arr.slice();},Reverse:function(cK,cL){bS.reverse(this.arr,cK,cL);},Reverse$1:function(){this.arr.reverse();},RemoveRange:function(cK,cL){_4.splice(this.arr,cK,cL,[]);},RemoveAt:function(cK){_4.splice(this.arr,cK,1,[]);},set_Item:function(cK,cL){bS.set(this.arr,cK,cL);},get_Item:function(cK){return bS.get(this.arr,cK);},InsertRange:function(cK,cL){_4.splice(this.arr,cK,0,bS.ofSeq(cL));},Insert:function(cK,cL){_4.splice(this.arr,cK,0,[cL]);},GetRange:function(cK,cL){return new _3.New$3(bS.sub(this.arr,cK,cL));},get_Count:function(){return bS.length(this.arr);},CopyTo:function(cK,cL,cM,cN){bS.blit(this.arr,cK,cL,cM,cN);},CopyTo$1:function(cK,cL){this.CopyTo(0,cK,cL,this.get_Count());},CopyTo$2:function(cK){this.CopyTo$1(cK,0);},Clear:function(){_4.splice(this.arr,0,bS.length(this.arr),[]);},AddRange:function(cK){var cL;cL=this;bT.iter(function(cM){cL.Add(cM);},cK);},Add:function(cK){this.arr.push(cK);},GetEnumerator:function(){return bM.Get(this.arr);},GetEnumerator0:function(){return bM.Get0(this.arr);}},null,_3);_3.New=cE.Ctor(function(cK){_3.New$3.call(this,bS.ofSeq(cK));},_3);_3.New$1=cE.Ctor(function(cK){_3.New$3.call(this,[]);},_3);_3.New$2=cE.Ctor(function(){_3.New$3.call(this,[]);},_3);_3.New$3=cE.Ctor(function(cK){this.arr=cK;},_3);_4.splice=function(cK,cL,cM,cN){return a.Array.prototype.splice.apply(cK,[cL,cM].concat(cN));};_5=T.LinkedListEnumerator=cE.Class({Reset:a.ignore,Dispose:a.ignore,MoveNext:function(){this.c=this.c.n;return!cw.Equals(this.c,null);},Current0:function(){return this.c.v;},Current:function(){return this.c.v;}},null,_5);_5.New=cE.Ctor(function(cK){this.c=cK;},_5);_6=T.LinkedList=cE.Class({RemoveLast:function(){this.Remove$1(this.p);},RemoveFirst:function(){this.Remove$1(this.n);},Remove:function(cK){var cL;cL=this.Find(cK);return cw.Equals(cL,null)?false:(this.Remove$1(cL),true);},Remove$1:function(cK){var cL,cM;cL=cK.p;cM=cK.n;cw.Equals(cL,null)?this.n=cM:cL.n=cM;cw.Equals(cM,null)?this.p=cL:cM.p=cL;this.c=this.c-1;},GetEnumerator$1:function(){return new _5.New(this);},FindLast:function(cK){var cL,cM;cL=this.p;cM=true;while(cM&&!cw.Equals(cL,null))if(cL.v==cK)cM=false;else cL=cL.p;return cM?null:cL;},Find:function(cK){var cL,cM;cL=this.n;cM=true;while(cM&&!cw.Equals(cL,null))if(cL.v==cK)cM=false;else cL=cL.n;return cM?null:cL;},Contains:function(cK){var cL,cM;cL=false;cM=this.n;while(!cw.Equals(cM,null)&&!cL)if(cM.v==cK)cL=true;else cM=cM.n;return cL;},Clear:function(){this.c=0;this.n=null;this.p=null;},AddLast:function(cK){var cL;return this.c===0?(cL={p:null,n:null,v:cK},(this.n=cL,this.p=this.n,this.c=1,cL)):this.AddAfter(this.p,cK);},AddFirst:function(cK){var cL;return this.c===0?(cL={p:null,n:null,v:cK},(this.n=cL,this.p=this.n,this.c=1,cL)):this.AddBefore(this.n,cK);},AddBefore:function(cK,cL){var cM,cN;cM=cK.p;cN={p:cM,n:cK,v:cL};cw.Equals(cK.p,null)?this.n=cN:void 0;cK.p=cN;!cw.Equals(cM,null)?cM.n=cN:void 0;this.c=this.c+1;return cN;},AddAfter:function(cK,cL){var cM,cN;cM=cK.n;cN={p:cK,n:cM,v:cL};cw.Equals(cK.n,null)?this.p=cN:void 0;cK.n=cN;!cw.Equals(cM,null)?cM.p=cN:void 0;this.c=this.c+1;return cN;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,_6);_6.New=cE.Ctor(function(){_6.New$1.call(this,[]);},_6);_6.New$1=cE.Ctor(function(cK){var cL,cM;this.c=0;this.n=null;this.p=null;cL=bM.Get(cK);cL.MoveNext()?(this.n={p:null,n:null,v:cL.Current()},this.p=this.n,this.c=1):void 0;while(cL.MoveNext()){cM={p:this.p,n:null,v:cL.Current()};this.p.n=cM;this.p=cM;this.c=this.c+1;}},_6);_7=S.Grouping=cE.Class({System_Linq_IGrouping_2$get_Key:function(){return this.k;},GetEnumerator0:function(){return bM.Get0(this.v);},GetEnumerator:function(){return bM.Get(this.v);}},null,_7);_7.New=cE.Ctor(function(cK,cL){this.k=cK;this.v=cL;},_7);_8=S.FsComparer=cE.Class({Compare:function(cK,cL){return cw.Compare(cK,cL);}},null,_8);_8.New=cE.Ctor(function(){},_8);_9=S.ProjectionComparer=cE.Class({Compare:function(cK,cL){return this.primary.Compare(this.projection(cK),this.projection(cL));}},null,_9);_9.New=cE.Ctor(function(cK,cL){this.primary=cK;this.projection=cL;},_9);_=S.CompoundComparer=cE.Class({Compare:function(cK,cL){var cM;cM=this.primary.Compare(cK,cL);return cM===0?this.secondary.Compare(cK,cL):cM;}},null,_);_.New=cE.Ctor(function(cK,cL){this.primary=cK;this.secondary=cL;},_);$=S.ReverseComparer=cE.Class({Compare:function(cK,cL){return this.primary.Compare(this.projection(cL),this.projection(cK));}},null,$);$.New=cE.Ctor(function(cK,cL){this.primary=cK;this.projection=cL;},$);ba=S.OrderedEnumerable=cE.Class({GetEnumerator0:function(){return bM.Get(this);},GetEnumerator:function(){var cK,cL;cK=this;cL=bS.ofSeq(this.source);bS.sortInPlaceWith(function(cM,cN){return cK.primary.Compare(cM,cN);},cL);return bM.Get(cL);},System_Linq_IOrderedEnumerable_1$CreateOrderedEnumerable:function(cK,cL,cM){return new ba.New(this.source,new _.New(this.primary,cM?new $.New(cL,cK):new _9.New(cL,cK)));}},null,ba);ba.New=cE.Ctor(function(cK,cL){this.source=cK;this.primary=cL;},ba);bb.ElementAtOrDefault=function(cK,cL,cM){try{return bT.nth(cL,cK);}catch(cN){return cM;}};bb.FirstOrDefault=function(cK,cL){var cM;cM=bM.Get(cK);try{return cM.MoveNext()?cM.Current():cL;}finally{if("Dispose"in cM)cM.Dispose();}};bb.FirstOrDefault$1=function(cK,cL,cM){var cN;cN=bT.tryFind(cL,cK);return cN==null?cM:cN.$0;};bb.LastOrDefault=function(cK,cL,cM){var cN;cN=bb.LastPred(cK,cL);return cN==null?cM:cN.$0;};bb.SingleOrDefault=function(cK,cL,cM){var cN,cO;cN=bM.Get(cK);try{cO=null;while(cN.MoveNext())if(cL(cN.Current()))if(cO!=null&&cO.$==1)ck.InvalidOp("Sequence contains more than one element");else cO={$:1,$0:cN.Current()};return cO==null?cM:cO.$0;}finally{if("Dispose"in cN)cN.Dispose();}};bb.Where=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN;cN=0;return bT.enumWhile(function(){return cM.MoveNext();},bT.delay(function(){return bT.append(cL(cM.Current(),cN)?[cM.Current()]:[],bT.delay(function(){cN=cN+1;return[];}));}));});});};bb.Union=function(cK,cL,cM){var cN,cO;cN=new cg.New(cK,cM);cO=bM.Get(cL);try{while(cO.MoveNext())cN.Add(cO.Current());}finally{if("Dispose"in cO)cO.Dispose();}return cN;};bb.ToDictionary=function(cK,cL,cM,cN){var cO;cO=new b5.New$3(cN);bT.iter(function(cP){cO.Add(cL(cP),cM(cP));},cK);return cO;};bb.ToDictionary$1=function(cK,cL,cM){var cN;cN=new b5.New$3(cM);bT.iter(function(cO){cN.Add(cL(cO),cO);},cK);return cN;};bb.TakeWhile=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){return bT.enumWhile(function(){return cM.MoveNext()&&cL(cM.Current());},bT.delay(function(){return[cM.Current()];}));});});};bb.TakeWhile$1=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN;cN=0;return bT.enumWhile(function(){return cM.MoveNext()&&cL(cM.Current(),cN);},bT.delay(function(){cN=cN+1;return[cM.Current()];}));});});};bb.Take=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN;cN=0;return bT.enumWhile(function(){return cN<cL&&cM.MoveNext();},bT.delay(function(){cN=cN+1;return[cM.Current()];}));});});};bb.Sum=function(cK){var cL;cL=bT.choose(function(cM){return cM!=null?{$:1,$0:cj.get(cM)}:null;},cK);return bT.isEmpty(cL)?null:bT.sum(cL);};bb.SkipWhile=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN;cN=true;return bT.append(bT.enumWhile(function(){return cN&&cM.MoveNext();},bT.delay(function(){return!cL(cM.Current())?(cN=false,[]):[];})),bT.delay(function(){return!cN?bT.append([cM.Current()],bT.delay(function(){return bT.enumWhile(function(){return cM.MoveNext();},bT.delay(function(){return[cM.Current()];}));})):[];}));});});};bb.SkipWhile$1=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN,cO;cN=0;cO=true;return bT.append(bT.enumWhile(function(){return cO&&cM.MoveNext();},bT.delay(function(){return cL(cM.Current(),cN)?(cN=cN+1,[]):(cO=false,[]);})),bT.delay(function(){return!cO?bT.append([cM.Current()],bT.delay(function(){return bT.enumWhile(function(){return cM.MoveNext();},bT.delay(function(){return[cM.Current()];}));})):[];}));});});};bb.Skip=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN;cN=0;return bT.append(bT.enumWhile(function(){return cN<cL&&cM.MoveNext();},bT.delay(function(){cN=cN+1;return[];})),bT.delay(function(){return bT.enumWhile(function(){return cM.MoveNext();},bT.delay(function(){return[cM.Current()];}));}));});});};bb.Single=function(cK,cL){var cM;function cN(cO,cP){return cL(cP)?cO!=null?ck.InvalidOp("Sequence contains more than one matching element"):{$:1,$0:cP}:cO;}cM=(((cE.Curried3(bT.fold))(cN))(null))(cK);return cM!=null&&cM.$==1?cM.$0:ck.InvalidOp("Sequence contains no elements");};bb.SequenceEqual=function(cK,cL,cM){var cN,cO,cP;cN=bM.Get(cK);try{cP=bM.Get(cK);try{cO=function(){while(true)if(cN.MoveNext()){if(!(cP.MoveNext()&&cM.CEquals(cN.Current(),cP.Current())))return false;}else return!cP.MoveNext();}();}finally{if("Dispose"in cP)cP.Dispose();}return cO;}finally{if("Dispose"in cN)cN.Dispose();}};bb.SelectMany=function(cK,cL,cM){function cN(cO,cP){return bT.map(function(cQ){return cM(cO,cQ);},cP);}return bT.collect(function(cO){return cN(cO[0],cO[1]);},bT.mapi(function(cO,cP){return[cP,cL(cP,cO)];},cK));};bb.SelectMany$1=function(cK,cL,cM){function cN(cO,cP){return bT.map(function(cQ){return cM(cO,cQ);},cP);}return bT.collect(function(cO){return cN(cO[0],cO[1]);},bT.map(function(cO){return[cO,cL(cO)];},cK));};bb.SelectMany$2=function(cK,cL){return bT.concat(bT.mapi(function(cM,cN){return cL(cN,cM);},cK));};bb.Select=function(cK,cL){return bT.mapi(function(cM,cN){return cL(cN,cM);},cK);};bb.Reverse=function(cK){return bS.ofSeq(cK).slice().reverse();};bb.Repeat=function(cK,cL){return bT.init(cL,function(){return cK;});};bb.Range=function(cK,cL){return bT.init(cL,function(cM){return cK+cM;});};bb.OrderByDescending=function(cK,cL,cM){return new ba.New(cK,new $.New(cM,cL));};bb.OrderBy=function(cK,cL,cM){return new ba.New(cK,new _9.New(cM,cL));};bb.Min=function(cK){var cL;cL=bT.choose(function(cM){return cM!=null?{$:1,$0:cj.get(cM)}:null;},cK);return bT.isEmpty(cL)?null:bT.min(cL);};bb.Max=function(cK){var cL;cL=bT.choose(function(cM){return cM!=null?{$:1,$0:cj.get(cM)}:null;},cK);return bT.isEmpty(cL)?null:bT.max(cL);};bb.Last=function(cK,cL){var cM;cM=bb.LastPred(cK,cL);return cM==null?ck.InvalidOp("Sequence contains no matching element"):cM.$0;};bb.LastPred=function(cK,cL){function cM(cN,cO){return cL(cO)?{$:1,$0:cO}:cN;}return(((cE.Curried3(bT.fold))(cM))(null))(cK);};bb.Join=function(cK,cL,cM,cN,cO,cP){return bT.delay(function(){var cQ,cR,cS;cQ=new b5.New$3(cP);cR=bS.ofSeq(bT.delay(function(){return bT.collect(function(cT){var cU,cV,cW;cU=cM(cT);return(cV=null,[cQ.TryGetValue(cU,{get:function(){return cV;},set:function(cX){cV=cX;}}),cV])[0]?[]:(cW=[cT,new _3.New$2()],(cQ.Add(cU,cW),[cW]));},cK);}));cS=bM.Get(cL);try{while(cS.MoveNext())(function(){var cT,cU,cV;cT=cS.Current();cU=(cV=null,[cQ.TryGetValue(cN(cT),{get:function(){return cV;},set:function(cW){cV=cW;}}),cV]);return cU[0]?cU[1][1].Add(cT):null;}());}finally{if("Dispose"in cS)cS.Dispose();}return bS.ofSeq(bT.delay(function(){return bT.collect(function(cT){var cU;cU=cT[0];return bT.map(function(cV){return cO(cU,cV);},cT[1]);},cR);}));});};bb.Intersect=function(cK,cL,cM){var cN;cN=new cg.New(cK,cM);return bT.delay(function(){var cO;cO=new cg.New$1(cM);return bT.collect(function(cP){return cN.Contains(cP)&&cO.Add(cP)?[cP]:[];},cL);});};bb.GroupJoin=function(cK,cL,cM,cN,cO,cP){return bT.delay(function(){var cQ,cR,cS;cQ=new b5.New$3(cP);cR=bS.ofSeq(bT.delay(function(){return bT.collect(function(cT){var cU,cV,cW;cU=cM(cT);return(cV=null,[cQ.TryGetValue(cU,{get:function(){return cV;},set:function(cX){cV=cX;}}),cV])[0]?[]:(cW=[cT,new _3.New$2()],(cQ.Add(cU,cW),[cW]));},cK);}));cS=bM.Get(cL);try{while(cS.MoveNext())(function(){var cT,cU,cV;cT=cS.Current();cU=(cV=null,[cQ.TryGetValue(cN(cT),{get:function(){return cV;},set:function(cW){cV=cW;}}),cV]);return cU[0]?cU[1][1].Add(cT):null;}());}finally{if("Dispose"in cS)cS.Dispose();}bS.iteri(function(cT,cU){return bS.set(cR,cT,cO(cU[0],cU[1]));},cR);return cR;});};bb.GroupBy=function(cK,cL,cM,cN,cO){return bT.map(function(cP){return cN(cP.System_Linq_IGrouping_2$get_Key(),cP);},bb.GroupBy$1(cK,cL,cM,cO));};bb.GroupBy$1=function(cK,cL,cM,cN){return bT.delay(function(){return bS.ofSeq(bT.delay(function(){var cO;cO=new b5.New$3(cN);return bT.collect(function(cP){var cQ,cR,cS,cT,cU;cQ=cL(cP);cR=cM(cP);cS=(cT=null,[cO.TryGetValue(cQ,{get:function(){return cT;},set:function(cV){cT=cV;}}),cT]);return cS[0]?(cS[1].Add(cR),[]):(cU=new _3.New$2(),(cU.Add(cR),cO.set_Item(cQ,cU),[new _7.New(cQ,cU)]));},cK);}));});};bb.Except=function(cK,cL,cM){var cN,cO;cN=new cg.New(cK,cM);cO=bM.Get(cL);try{while(cO.MoveNext())cN.Remove(cO.Current());}finally{if("Dispose"in cO)cO.Dispose();}return cN;};bb.Distinct=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cK),function(cM){var cN;cN=new cg.New$1(cL);return bT.enumWhile(function(){return cM.MoveNext();},bT.delay(function(){return cN.Add(cM.Current())?[cM.Current()]:[];}));});});};bb.DefaultIfEmpty=function(cK,cL){return bT.isEmpty(cK)?[cL]:cK;};bb.Average=function(cK){var cL,cM,cN,cO;cL=[];cM=bM.Get(cK);try{while(cM.MoveNext()){if(cN=cM.Current(),cN!=null){cL.push((cO=cM.Current(),cj.get(cO)));}}return bS.length(cL)===0?null:bT.sum(cL)/a.Number(bS.length(cL));}finally{if("Dispose"in cM)cM.Dispose();}};be.Completed={$:2};bd.New=function(cK,cL,cM){return{OnNext:cK,OnError:cL,OnCompleted:function(){return cM();}};};bd.Of=function(cK){return{OnNext:cK,OnError:function(cL){throw cL;},OnCompleted:function(){return null;}};};bg=bf.HotStream=cE.Class({Trigger:function(cK){this.Latest[0]={$:1,$0:cK};this.Event.event.Trigger(cK);},Subscribe:function(cK){this.Latest[0]!=null?cK.OnNext(this.Latest[0].$0):void 0;return this.Event.event.Subscribe(bY.observer(function(cL){cK.OnNext(cL);}));}},null,bg);bg.New$1=function(){return bg.New([null],new bp.New());};bg.New=function(cK,cL){return new bg({Latest:cK,Event:cL});};bh.Sequence=function(cK){function cL(cM){return cM.$==1?bh.CombineLatest(cM.$0,cL(cM.$1),function(cN,cO){return new ci({$:1,$0:cN,$1:cO});}):bh.Return(ci.Empty);}return cL(bU.ofSeq(cK));};bh.Aggregate=function(cK,cL,cM){return{Subscribe:function(cN){var cO;cO=[cL];return cK.Subscribe(bd.New(function(cP){bh.Protect(function(){return cM(cO[0],cP);},function(cQ){cO[0]=cQ;cN.OnNext(cQ);},function(cQ){cN.OnError(cQ);});},function(cP){cN.OnError(cP);},function(){cN.OnCompleted();}));}};};bh.SelectMany=function(cK){return{Subscribe:function(cL){var cM,cN;function cO(){cM[0]();cN.Dispose();}cM=[a.ignore];cN=cK.Subscribe(bY.observer(function(cP){var cQ;cQ=cP.Subscribe(bY.observer(function(cR){cL.OnNext(cR);}));cM[0]=function(){cM[0]();cQ.Dispose();};}));return{Dispose:function(){return cO();}};}};};bh.Switch=function(cK){return{Subscribe:function(cL){var cM,cN;cM=[0];cN=[null];return cK.Subscribe(bY.observer(function(cO){var cP;cM[0]++;cN[0]!=null?cN[0].$0.Dispose():void 0;cP=cM[0];cN[0]={$:1,$0:cO.Subscribe(bY.observer(function(cQ){if(cP===cM[0])cL.OnNext(cQ);}))};}));}};};bh.CombineLatest=function(cK,cL,cM){return{Subscribe:function(cN){var cO,cP,cQ,cR;function cS(){var cU,cV,cW,cX;cU=cO[0];cV=cP[0];cU!=null&&cU.$==1?cV!=null&&cV.$==1?(cW=cU.$0,cX=cV.$0,bh.Protect(function(){return cM(cW,cX);},function(cY){cN.OnNext(cY);},function(cY){cN.OnError(cY);})):void 0:void 0;}function cT(){cQ.Dispose();cR.Dispose();}cO=[null];cP=[null];cQ=cK.Subscribe(bd.New(function(cU){cO[0]={$:1,$0:cU};cS();},a.ignore,a.ignore));cR=cL.Subscribe(bd.New(function(cU){cP[0]={$:1,$0:cU};cS();},a.ignore,a.ignore));return{Dispose:function(){return cT();}};}};};bh.Range=function(cK,cL){return{Subscribe:function(cM){var cO,cP;function cN(){}for(cO=cK,cP=cK+cL;cO<=cP;cO++)cM.OnNext(cO);return{Dispose:function(){return cN();}};}};};bh.Concat=function(cK,cL){return{Subscribe:function(cM){var cN,cO;function cP(){cN[0]!=null?cN[0].$0.Dispose():void 0;cO.Dispose();}cN=[null];cO=cK.Subscribe(bd.New(function(cQ){cM.OnNext(cQ);},a.ignore,function(){cN[0]={$:1,$0:cL.Subscribe(cM)};}));return{Dispose:function(){return cP();}};}};};bh.Merge=function(cK,cL){return{Subscribe:function(cM){var cN,cO,cP,cQ;function cR(){cP.Dispose();cQ.Dispose();}cN=[false];cO=[false];cP=cK.Subscribe(bd.New(function(cS){cM.OnNext(cS);},a.ignore,function(){cN[0]=true;cN[0]&&cO[0]?cM.OnCompleted():void 0;}));cQ=cL.Subscribe(bd.New(function(cS){cM.OnNext(cS);},a.ignore,function(){cO[0]=true;cN[0]&&cO[0]?cM.OnCompleted():void 0;}));return{Dispose:function(){return cR();}};}};};bh.Drop=function(cK,cL){return{Subscribe:function(cM){var cN;cN=[0];return cL.Subscribe(bd.New(function(cO){cN[0]++;cN[0]>cK?cM.OnNext(cO):void 0;},function(cO){cM.OnError(cO);},function(){cM.OnCompleted();}));}};};bh.Choose=function(cK,cL){return{Subscribe:function(cM){return cL.Subscribe(bd.New(function(cN){function cO(cP){cM.OnNext(cP);}bh.Protect(function(){return cK(cN);},function(cP){if(cP==null);else cO(cP.$0);},function(cP){cM.OnError(cP);});},function(cN){cM.OnError(cN);},function(){cM.OnCompleted();}));}};};bh.Filter=function(cK,cL){return{Subscribe:function(cM){return cL.Subscribe(bd.New(function(cN){function cO(cP){cM.OnNext(cP);}bh.Protect(function(){return cK(cN)?{$:1,$0:cN}:null;},function(cP){if(cP==null);else cO(cP.$0);},function(cP){cM.OnError(cP);});},function(cN){cM.OnError(cN);},function(){cM.OnCompleted();}));}};};bh.Map=function(cK,cL){return{Subscribe:function(cM){return cL.Subscribe(bd.New(function(cN){bh.Protect(function(){return cK(cN);},function(cO){cM.OnNext(cO);},function(cO){cM.OnError(cO);});},function(cN){cM.OnError(cN);},function(){cM.OnCompleted();}));}};};bh.Protect=function(cK,cL,cM){var cN;try{cN={$:0,$0:cK()};}catch(cO){cN={$:1,$0:cO};}return cN.$==1?cM(cN.$0):cL(cN.$0);};bh.Never=function(){return{Subscribe:function(){function cK(){}return{Dispose:function(){return cK();}};}};};bh.Return=function(cK){return{Subscribe:function(cL){function cM(){}cL.OnNext(cK);cL.OnCompleted();return{Dispose:function(){return cM();}};}};};bh.Of=function(cK){return{Subscribe:function(cL){var cM;cM=cK(function(cN){cL.OnNext(cN);});return{Dispose:function(){return cM();}};}};};bk.Split=function(cK,cL){return[bh.Choose(function(cM){var cN;cN=cK(cM);return cN.$==0?{$:1,$0:cN.$0}:null;},cL),bh.Choose(function(cM){var cN;cN=cK(cM);return cN.$==1?{$:1,$0:cN.$0}:null;},cL)];};bk.Scan=function(cK,cL,cM){return{Subscribe:function(cN){var cO;cO=[cL];return cM.Subscribe(bd.New(function(cP){bh.Protect(function(){return cK(cO[0],cP);},function(cQ){cO[0]=cQ;cN.OnNext(cQ);},function(cQ){cN.OnError(cQ);});},function(cP){cN.OnError(cP);},function(){cN.OnCompleted();}));}};};bk.Partition=function(cK,cL){function cM(cN){return!cN;}return[bh.Filter(cK,cL),bh.Filter(function(cN){return cM(cK(cN));},cL)];};bk.Pairwise=function(cK){return{Subscribe:function(cL){var cM;cM=[null];return cK.Subscribe(bd.New(function(cN){var cO;cO=cM[0];cO!=null&&cO.$==1?cL.OnNext([cO.$0,cN]):void 0;cM[0]={$:1,$0:cN};},function(cN){cL.OnError(cN);},function(){cL.OnCompleted();}));}};};bm=bl.Event=cE.Class({Subscribe$1:function(cK){var cL;function cM(cO,cP){return cK.OnNext(cP);}function cN(){cL.RemoveHandler$1(cM);}cL=this;this.AddHandler$1(cM);return{Dispose:function(){return cN();}};},RemoveHandler$1:function(cK){var cL;cL=bT.tryFindIndex(function(cM){return cw.Equals(cK,cM);},this.Handlers);cL==null?void 0:this.Handlers.RemoveAt(cL.$0);},AddHandler$1:function(cK){this.Handlers.Add(cK);},Trigger:function(cK){var cL,cM,cN;cL=this.Handlers.ToArray();for(cM=0,cN=cL.length-1;cM<=cN;cM++)(bS.get(cL,cM))(null,cK);},RemoveHandler:function(cK){this.RemoveHandler$1(cK);},AddHandler:function(cK){this.AddHandler$1(cK);},Subscribe:function(cK){return this.Subscribe$1(cK);},Dispose:a.ignore},null,bm);bm.New=function(cK){return new bm({Handlers:cK});};bo=bn.DelegateEvent=cE.Class({RemoveHandler$1:function(cK){var cL;cL=bT.tryFindIndex(function(cM){return cw.Equals(cK,cM);},this.Handlers);cL==null?void 0:this.Handlers.RemoveAt(cL.$0);},AddHandler$1:function(cK){this.Handlers.Add(cK);},Trigger:function(cK){var cL,cM,cN;cL=this.Handlers.ToArray();for(cM=0,cN=cL.length-1;cM<=cN;cM++)bS.get(cL,cM).apply(null,cK);},RemoveHandler:function(cK){this.RemoveHandler$1(cK);},AddHandler:function(cK){this.AddHandler$1(cK);},Dispose:a.ignore},null,bo);bo.New=function(cK){return new bo({Handlers:cK});};bp=bc.FSharpEvent=cE.Class({},null,bp);bp.New=cE.Ctor(function(){this.event=bm.New(new _3.New$2());},bp);bq=bc.FSharpDelegateEvent=cE.Class({},null,bq);bq.New=cE.Ctor(function(){this.event=bo.New(new _3.New$2());},bq);br.Split=function(cK,cL){return[br.Choose(function(cM){var cN;cN=cK(cM);return cN.$==0?{$:1,$0:cN.$0}:null;},cL),br.Choose(function(cM){var cN;cN=cK(cM);return cN.$==1?{$:1,$0:cN.$0}:null;},cL)];};br.Scan=function(cK,cL,cM){var cN;cN=[cL];return br.Map(function(cO){cN[0]=cK(cN[0],cO);return cN[0];},cM);};br.Partition=function(cK,cL){function cM(cN){return!cN;}return[br.Filter(cK,cL),br.Filter(function(cN){return cM(cK(cN));},cL)];};br.Pairwise=function(cK){var cL,cM;cL=[null];cM=bm.New(new _3.New$2());cK.Subscribe(bY.observer(function(cN){var cO;cO=cL[0];cO!=null&&cO.$==1?(cL[0]={$:1,$0:cN},cM.Trigger([cO.$0,cN])):cL[0]={$:1,$0:cN};}));return cM;};br.Merge=function(cK,cL){var cM;cM=bm.New(new _3.New$2());cK.Subscribe(bY.observer(function(cN){cM.Trigger(cN);}));cL.Subscribe(bY.observer(function(cN){cM.Trigger(cN);}));return cM;};br.Map=function(cK,cL){var cM;cM=bm.New(new _3.New$2());cL.Subscribe(bY.observer(function(cN){cM.Trigger(cK(cN));}));return cM;};br.Filter=function(cK,cL){var cM;cM=bm.New(new _3.New$2());cL.Subscribe(bY.observer(function(cN){if(cK(cN))cM.Trigger(cN);}));return cM;};br.Choose=function(cK,cL){var cM;cM=new bp.New();cL.Subscribe(bY.observer(function(cN){var cO;cO=cK(cN);cO==null?void 0:cM.event.Trigger(cO.$0);}));return cM.event;};bs=bc.MailboxProcessor=cE.Class({dequeue:function(){var cK;cK=this.mailbox.n.v;this.mailbox.RemoveFirst();return cK;},resume:function(){var cK;cK=this.savedCont;cK!=null&&cK.$==1?(this.savedCont=null,this.startAsync(cK.$0)):void 0;},startAsync:function(cK){bJ.Start(cK,this.token);},Scan:function(cK,cL){var cM,cN;cM=this;cN=null;return bJ.Delay(function(){return bJ.Bind(cM.TryScan(cK,cL),function(cO){var cP,cQ;if(cO!=null&&cO.$==1)cQ=cO.$0;else throw new cb.New();return bJ.Return(cQ);});});},TryScan:function(cK,cL){var cM,cN,cO,cP;cM=this;cN=(cO=this.get_DefaultTimeout(),cL==null?cO:cL.$0);cP=null;return bJ.Delay(function(){var cQ,cR,cS,cU;function cT(cV){var cX,cY;if(cN<0){function cW(){var c0;cM.savedCont={$:1,$0:(c0=null,bJ.Delay(function(){var c1;c1=cK(cM.mailbox.n.v);return c1!=null&&c1.$==1?(cM.mailbox.RemoveFirst(),bJ.Bind(c1.$0,function(c2){cV({$:1,$0:c2});return bJ.Zero();})):(cW(),bJ.Zero());}))};}cW();}else{function cZ(){var c0;cM.savedCont={$:1,$0:(c0=null,bJ.Delay(function(){var c1;c1=cK(cM.mailbox.n.v);return c1!=null&&c1.$==1?(cM.mailbox.RemoveFirst(),bJ.Bind(c1.$0,function(c2){return cX[0]?(cX[0]=false,a.clearTimeout(cY),cV({$:1,$0:c2}),bJ.Zero()):bJ.Zero();})):(cZ(),bJ.Zero());}))};}cX=[true];cY=a.setTimeout(function(){if(cX[0]){cX[0]=false;cM.savedCont=null;cV(null);}},cN);cZ();}}cR=cM.mailbox.n;cS=null;while(!cw.Equals(cR,null)){cU=cK(cR.v);cU==null?cR=cR.n:(cM.mailbox.Remove$1(cR),cR=null,cS=cU);}cQ=cS;return cQ!=null&&cQ.$==1?bJ.Bind(cQ.$0,function(cV){return bJ.Return({$:1,$0:cV});}):bJ.FromContinuations(function(cV,cW,cX){return cT.apply(null,[cV,cW,cX]);});});},PostAndAsyncReply:function(cK,cL){var cM,cN;cM=this;cN=null;return bJ.Delay(function(){return bJ.Bind(cM.PostAndTryAsyncReply(cK,cL),function(cO){var cP,cQ;if(cO!=null&&cO.$==1)cQ=cO.$0;else throw new cb.New();return bJ.Return(cQ);});});},PostAndTryAsyncReply:function(cK,cL){var cM,cN,cO;function cP(cQ){var cS;if(cN<0){function cR(cT){return{$:1,$0:cT};}cM.mailbox.AddLast(cK(function(cT){return cQ(cR(cT));}));cM.resume();}else{cS=[true];cM.mailbox.AddLast(cK(function(cT){if(cS[0]){cS[0]=false;cQ({$:1,$0:cT});}}));cM.resume();a.setTimeout(function(){if(cS[0]){cS[0]=false;cQ(null);}},cN);}}cM=this;cN=(cO=this.get_DefaultTimeout(),cL==null?cO:cL.$0);return bJ.FromContinuations(function(cQ,cR,cS){return cP.apply(null,[cQ,cR,cS]);});},get_CurrentQueueLength:function(){return this.mailbox.c;},Receive:function(cK){var cL,cM;cL=this;cM=null;return bJ.Delay(function(){return bJ.Bind(cL.TryReceive(cK),function(cN){var cO,cP;if(cN!=null&&cN.$==1)cP=cN.$0;else throw new cb.New();return bJ.Return(cP);});});},TryReceive:function(cK){var cL,cM,cN;function cO(cP){var cQ,cR,cS,cT;if(cw.Equals(cL.mailbox.n,null)){if(cM<0){cL.savedCont={$:1,$0:(cQ=null,bJ.Delay(function(){cP({$:1,$0:cL.dequeue()});return bJ.Zero();}))};}else{cR=[true];cS=a.setTimeout(function(){if(cR[0]){cR[0]=false;cL.savedCont=null;cP(null);}},cM);cL.savedCont={$:1,$0:(cT=null,bJ.Delay(function(){return cR[0]?(cR[0]=false,a.clearTimeout(cS),cP({$:1,$0:cL.dequeue()}),bJ.Zero()):bJ.Zero();}))};}}else cP({$:1,$0:cL.dequeue()});}cL=this;cM=(cN=this.get_DefaultTimeout(),cK==null?cN:cK.$0);return bJ.FromContinuations(function(cP,cQ,cR){return cO.apply(null,[cP,cQ,cR]);});},Start:function(){var cK,cL;cK=this;this.started?ck.FailWith("The MailboxProcessor has already been started."):(this.started=true,cK.startAsync((cL=null,bJ.Delay(function(){return bJ.TryWith(bJ.Delay(function(){return bJ.Bind(cK.initial(cK),function(){return bJ.Return(null);});}),function(cM){cK.errorEvent.event.Trigger(cM);return bJ.Zero();});}))));},set_DefaultTimeout:function(cK){this.DefaultTimeout=cK;},get_DefaultTimeout:function(){return this.DefaultTimeout;},remove_Error:function(cK){this.errorEvent.event.RemoveHandler(cK);},add_Error:function(cK){this.errorEvent.event.AddHandler(cK);},get_Error:function(){return this.errorEvent.event;}},null,bs);bs.Start=function(cK,cL){var cM;cM=new bs.New(cK,cL);cM.Start();return cM;};bs.New=cE.Ctor(function(cK,cL){var cM,cN;function cO(cP){return cM.resume();}cM=this;this.initial=cK;this.token=cL;this.started=false;this.errorEvent=new bp.New();this.mailbox=new _6.New();this.savedCont=null;cN=this.token;cN==null?void 0:bJ.Register(cN.$0,function(){cO();});this.DefaultTimeout=-1;},bs);bu.GetFieldValues=function(cK){var cL,cM;cL=[];for(var cN in cK)cL.push(cK[cN]);return cL;};bu.GetFieldNames=function(cK){var cL,cM;cL=[];for(var cN in cK)cL.push(cN);return cL;};bu.GetFields=function(cK){var cL,cM;cL=[];for(var cN in cK)cL.push([cN,cK[cN]]);return cL;};bv=T.EqualityComparer=cE.Class({CGetHashCode0:function(cK){return this.GetHashCode(cK);},CEquals0:function(cK,cL){return this.Equals(cK,cL);},CGetHashCode:function(cK){return this.GetHashCode(cK);},CEquals:function(cK,cL){return this.Equals(cK,cL);}},null,bv);bv.New=cE.Ctor(function(){},bv);bx=bw.EquatableEqualityComparer=cE.Class({GetHashCode:function(cK){return cw.Hash(cK);},Equals:function(cK,cL){return cK.EEquals(cL);}},bv,bx);bx.New=cE.Ctor(function(){bv.New.call(this);},bx);by=bw.BaseEqualityComparer=cE.Class({GetHashCode:function(cK){return cw.Hash(cK);},Equals:function(cK,cL){return cw.Equals(cK,cL);}},bv,by);by.New=cE.Ctor(function(){bv.New.call(this);},by);bz=T.Comparer=cE.Class({Compare0:function(cK,cL){return this.Compare$1(cK,cL);},Compare:function(cK,cL){return this.Compare$1(cK,cL);}},null,bz);bz.New=cE.Ctor(function(){},bz);bA=bw.ComparableComparer=cE.Class({Compare$1:function(cK,cL){return cK.CompareTo(cL);}},bz,bA);bA.New=cE.Ctor(function(){bz.New.call(this);},bA);bB=bw.BaseComparer=cE.Class({Compare$1:function(cK,cL){return cw.Compare(cK,cL);}},bz,bB);bB.New=cE.Ctor(function(){bz.New.call(this);},bB);bC.GetJS=function(cK,cL){var cM,cN;cM=cK;cN=bM.Get(cL);try{while(cN.MoveNext())cM=cM[cN.Current()];}finally{if("Dispose"in cN)cN.Dispose();}return cM;};bC.NewFromSeq=function(cK){var cL,cM,cN;cL={};cM=bM.Get(cK);try{while(cM.MoveNext()){cN=cM.Current();cL[cN[0]]=cN[1];}}finally{if("Dispose"in cM)cM.Dispose();}return cL;};bD.Activate=function(cK){var cM,cN,cO;function cL(cP){var cQ,cR,cS,cT,cU;if(cw.Equals(cP,null))return cP;else if(typeof cP=="object"){if(cP instanceof a.Array)return bD.shallowMap(cL,cP);else{cQ=bD.shallowMap(cL,cP.$V);cR=cP.$T;if(cw.Equals(typeof cR,"undefined"))return cQ;else{cS=bS.get(cM,cR);if(cS===window.WebSharper.List.T)return bU.ofArray(cQ);else{cT=new(bS.get(cM,cR))();for(var cV in cQ)if(function(cW){cT[cW]=cQ[cW];return false;}(cV))break;return cT;}}}}else return cP;}cM=cK.$TYPES;for(cN=0,cO=bS.length(cM)-1;cN<=cO;cN++)bS.set(cM,cN,bD.lookup(bS.get(cM,cN)));return cL(cK.$DATA);};bD.shallowMap=function(cK,cL){var cM,cN;if(cL instanceof a.Array)return bS.map(cK,cL);else if(typeof cL=="object"){cM={};for(var cO in cL)if(function(cP){cM[cP]=cK(cL[cP]);return false;}(cO))break;return cM;}else return cL;};bD.lookup=function(cK){var cL,cM,cN,cO,cP;cN=bS.length(cK);cL=window;cM=0;while(cM<cN){cO=bS.get(cK,cM);cP=cL[cO];!cw.Equals(typeof cP,void 0)?(cL=cP,cM=cM+1):ck.FailWith("Invalid server reply. Failed to find type: "+cO);}return cL;};bF=bE.XhrProvider=cE.Class({Sync:function(cK,cL,cM){var cN;cN=[null];bE.ajax(false,cK,cL,cM,function(cO){cN[0]=cO;},function(cO){throw cO;},function(){bE.ajax(false,cK,cL,cM,function(cO){cN[0]=cO;},function(cO){throw cO;},void 0);});return cN[0];},Async:function(cK,cL,cM,cN,cO){bE.ajax(true,cK,cL,cM,cN,cO,function(){bE.ajax(true,cK,cL,cM,cN,cO,void 0);});}},null,bF);bF.New=cE.Ctor(function(){},bF);bG=bE.AjaxRemotingProvider=cE.Class({get_EndPoint:function(){return bE.EndPoint();},AsyncBase:function(cK,cL){var cM,cN;cM=this;cN=null;return bJ.Delay(function(){var cO,cP;cO=bE.makeHeaders(cK);cP=bE.makePayload(cL);return bJ.Bind(bJ.GetCT(),function(cQ){return bJ.FromContinuations(function(cR,cS,cT){var cU,cV,cW;function cX(cY){return cU[0]?(cU[0]=false,cT(new b8.New(cQ))):null;}cU=[true];cV=bJ.Register(cQ,function(){cX();});cW=cM.get_EndPoint();return bE.AjaxProvider().Async(cW,cO,cP,function(cY){if(cU[0]){cU[0]=false;cV.Dispose();cR(bD.Activate(cF.parse(cY)));}},function(cY){if(cU[0]){cU[0]=false;cV.Dispose();cS(cY);}});});});});},Send:function(cK,cL){bJ.Start(this.AsyncBase(cK,cL),null);},Task:function(cK,cL){return bJ.StartAsTask(this.AsyncBase(cK,cL),null);},Async:function(cK,cL){return this.AsyncBase(cK,cL);},Sync:function(cK,cL){var cM,cN,cO;return bD.Activate(cF.parse((cM=this.get_EndPoint(),(cN=bE.makeHeaders(cK),(cO=bE.makePayload(cL),bE.AjaxProvider().Sync(cM,cN,cO))))));}},null,bG);bG.New=cE.Ctor(function(){},bG);bE.ajax=function(cK,cL,cM,cN,cO,cP,cQ){var cR,cS,cT;cR=new a.XMLHttpRequest();cS=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");cR.open("POST",cL,cK);if(cK==true)cR.withCredentials=true;for(var cV in cM)cR.setRequestHeader(cV,cM[cV]);if(cS)cR.setRequestHeader("x-csrftoken",cS);function cU(){var cW;if(cR.status==200)cO(cR.responseText);else if(cQ&&cR.status==403&&cR.responseText=="CSRF")cQ();else{cW="Response status is not 200: ";cP(new a.Error(cW+cR.status));}}if("onload"in cR)cR.onload=cR.onerror=cR.onabort=cU;else cR.onreadystatechange=function(){if(cR.readyState==4)cU();};cR.send(cN);};bE.makePayload=function(cK){return cF.stringify(cK);};bE.makeHeaders=function(cK){return{"content-type":"application/json","x-websharper-rpc":cK};};bE.AjaxProvider=function(){bH.$cctor();return bH.AjaxProvider;};bE.set_AjaxProvider=function(cK){bH.$cctor();bH.AjaxProvider=cK;};bE.UseHttps=function(){try{return!cs.StartsWith(a.location.href,"https://")&&(bE.set_EndPoint(cs.Replace(a.location.href,"http://","https://")),true);}catch(cK){return false;}};bE.EndPoint=function(){bH.$cctor();return bH.EndPoint;};bE.set_EndPoint=function(cK){bH.$cctor();bH.EndPoint=cK;};bH.$cctor=cE.Cctor(function(){bH.EndPoint="?";bH.AjaxProvider=new bF.New();bH.$cctor=a.ignore;});bI.prettyPrint=function(cK){var cL,cM;function cN(cO,cP){return cO+" = "+bI.prettyPrint(cP);}return cK===null?"null":(cL=typeof cK,cL=="string"?"\""+cK+"\"":cL=="object"?cK instanceof a.Array?"[|"+cs.concat("; ",bS.map(bI.prettyPrint,cK))+"|]":(cM=a.String(cK),cM==="[object Object]"?"{"+cs.concat("; ",bS.map(function(cO){return cN(cO[0],cO[1]);},bu.GetFields(cK)))+"}":cM):a.String(cK));};bI.printArray2D=function(cK,cL){return cL===null?"null":"[["+cs.concat("][",bT.delay(function(){var cM;cM=cL.length?cL[0].length:0;return bT.map(function(cN){return cs.concat("; ",bT.delay(function(){return bT.map(function(cO){return cK(bS.get2D(cL,cN,cO));},ck.range(0,cM-1));}));},ck.range(0,cL.length-1));}))+"]]";};bI.printArray=function(cK,cL){return cL===null?"null":"[|"+cs.concat("; ",bS.map(cK,cL))+"|]";};bI.printList=function(cK,cL){return"["+cs.concat("; ",bT.map(cK,cL))+"]";};bI.padNumLeft=function(cK,cL){var cM;cM=bS.get(cK,0);return cM===" "||cM==="+"||cM==="-"?cM+cs.PadLeftWith(cK.substr(1),cL-1,48):cs.PadLeftWith(cK,cL,48);};bI.spaceForPos=function(cK,cL){return 0<=cK?" "+cL:cL;};bI.plusForPos=function(cK,cL){return 0<=cK?"+"+cL:cL;};bI.toSafe=function(cK){return cK==null?"":cK;};bK=bJ.Scheduler=cE.Class({tick:function(){var cK,cL,cM;cL=this;cM=cG.now();cK=true;while(cK)if(this.robin.length===0){this.idle=true;cK=false;}else{(this.robin.shift())();cG.now()-cM>40?(a.setTimeout(function(){cL.tick();},0),cK=false):void 0;}},Fork:function(cK){var cL;cL=this;this.robin.push(cK);this.idle?(this.idle=false,a.setTimeout(function(){cL.tick();},0)):void 0;}},null,bK);bK.New=cE.Ctor(function(){this.idle=true;this.robin=[];},bK);bJ.For=function(cK,cL){return bJ.Using(bM.Get(cK),function(cM){return bJ.While(function(){return cM.MoveNext();},bJ.Delay(function(){return cL(cM.Current());}));});};bJ.While=function(cK,cL){return cK()?bJ.Bind(cL,function(){return bJ.While(cK,cL);}):bJ.Return();};bJ.Using=function(cK,cL){return bJ.TryFinally(cL(cK),function(){cK.Dispose();});};bJ.TryCancelled=function(cK,cL){return function(cM){cK({k:function(cN){if(cN.$==2){cL(cN.$0);cM.k(cN);}else cM.k(cN);},ct:cM.ct});};};bJ.OnCancel=function(cK){return function(cL){cL.k({$:0,$0:bJ.Register(cL.ct,cK)});};};bJ.StartChild=function(cK,cL){return function(cM){var cN,cO,cP,cQ;cN=[true];cO=[null];cP=[];cQ=cL!=null&&cL.$==1?{$:1,$0:a.setTimeout(function(){var cR;cN[0]=false;cR={$:1,$0:new cb.New()};while(cP.length>0)(cP.shift())(cR);},cL.$0)}:null;bJ.scheduler().Fork(function(){if(!cM.ct.c)cK({k:function(cR){if(cN[0]){cO[0]={$:1,$0:cR};cQ!=null&&cQ.$==1?a.clearTimeout(cQ.$0):void 0;while(cP.length>0)(cP.shift())(cR);}},ct:cM.ct});});cM.k({$:0,$0:function(cR){var cS;if(cN[0]){cS=cO[0];cS==null?cP.push(cR.k):cR.k(cS.$0);}else cR.k({$:1,$0:new cb.New()});}});};};bJ.Parallel=function(cK){var cL;cL=bS.ofSeq(cK);return bS.length(cL)===0?bJ.Return([]):function(cM){var cN,cO,cP;function cQ(cR,cS){var cT,cU;cU=cO[0];switch(cU===0?0:cU===1?cS.$==0?1:(cT=[cU,cS],3):cS.$==0?2:(cT=[cU,cS],3)){case 0:return null;break;case 1:bS.set(cP,cR,cS.$0);cO[0]=0;return cM.k({$:0,$0:cP});break;case 2:bS.set(cP,cR,cS.$0);{cO[0]=cU-1;return;}break;case 3:cO[0]=0;return cM.k(cT[1]);break;}}cN=cL.length;cO=[cN];cP=new a.Array(cN);bS.iteri(function(cR,cS){return bJ.scheduler().Fork(function(){cS({k:function(cT){return cQ(cR,cT);},ct:cM.ct});});},cL);};};bJ.Sleep=function(cK){return function(cL){var cM,cN;cM=void 0;cN=void 0;cM=a.setTimeout(function(){cN.Dispose();bJ.scheduler().Fork(function(){cL.k({$:0,$0:null});});},cK);cN=bJ.Register(cL.ct,function(){a.clearTimeout(cM);bJ.scheduler().Fork(function(){bJ.cancel(cL);});});};};bJ.StartAsTask=function(cK,cL){var cM;cM=new cv.New();bJ.StartWithContinuations(cK,function(cN){cM.SetResult(cN);},function(cN){cM.SetException$1(cN);},function(){cM.SetCanceled();},cL);return cM.get_Task();};bJ.AwaitTask1=function(cK){return bJ.FromContinuations(function(cL,cM,cN){cw.Equals(cK.get_Status(),0)?cK.Start():void 0;{cK.ContinueWith$2(function(cO){return cO.get_IsCanceled()?cN(new b8.New(bJ.noneCT())):cO.get_IsFaulted()?cM(cO.get_Exception()):cL(cO.get_Result());});return;}});};bJ.AwaitTask=function(cK){return bJ.FromContinuations(function(cL,cM,cN){cw.Equals(cK.get_Status(),0)?cK.Start():void 0;{cK.ContinueWith$2(function(cO){return cO.get_IsCanceled()?cN(new b8.New(bJ.noneCT())):cO.get_IsFaulted()?cM(cO.get_Exception()):cL();});return;}});};bJ.AwaitEvent=function(cK,cL){return function(cM){var cN,cO;cN=void 0;cO=void 0;cN=cK.Subscribe(bY.observer(function(cP){cN.Dispose();cO.Dispose();bJ.scheduler().Fork(function(){cM.k({$:0,$0:cP});});}));cO=bJ.Register(cM.ct,function(){if(cL!=null&&cL.$==1)cL.$0();else{cN.Dispose();bJ.scheduler().Fork(function(){bJ.cancel(cM);});}});};};bJ.StartImmediate=function(cK,cL){var cM,cN;cM=(cN=(bJ.defCTS())[0],cL==null?cN:cL.$0);!cM.c?cK({k:function(cO){if(cO.$==1)bJ.UncaughtAsyncError(cO.$0);},ct:cM}):void 0;};bJ.Start=function(cK,cL){var cM,cN;cM=(cN=(bJ.defCTS())[0],cL==null?cN:cL.$0);bJ.scheduler().Fork(function(){if(!cM.c)cK({k:function(cO){if(cO.$==1)bJ.UncaughtAsyncError(cO.$0);},ct:cM});});};bJ.UncaughtAsyncError=function(cK){cH.log("WebSharper: Uncaught asynchronous exception",cK);};bJ.StartWithContinuations=function(cK,cL,cM,cN,cO){var cP,cQ;cP=(cQ=(bJ.defCTS())[0],cO==null?cQ:cO.$0);!cP.c?cK({k:function(cR){if(cR.$==1)cM(cR.$0);else if(cR.$==2)cN(cR.$0);else cL(cR.$0);},ct:cP}):void 0;};bJ.FromContinuations=function(cK){return function(cL){var cM;function cN(cO){if(cM[0])ck.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{cM[0]=true;bJ.scheduler().Fork(cO);}}cM=[false];cK(function(cO){cN(function(){cL.k({$:0,$0:cO});});},function(cO){cN(function(){cL.k({$:1,$0:cO});});},function(cO){cN(function(){cL.k({$:2,$0:cO});});});};};bJ.GetCT=function(){bL.$cctor();return bL.GetCT;};bJ.Catch=function(cK){return function(cL){try{cK({k:function(cM){if(cM.$==0)cL.k({$:0,$0:{$:0,$0:cM.$0}});else if(cM.$==1)cL.k({$:0,$0:{$:1,$0:cM.$0}});else cL.k(cM);},ct:cL.ct});}catch(cM){cL.k({$:0,$0:{$:1,$0:cM}});}};};bJ.TryWith=function(cK,cL){return function(cM){cK({k:function(cN){if(cN.$==0)cM.k({$:0,$0:cN.$0});else if(cN.$==1)try{(cL(cN.$0))(cM);}catch(cO){cM.k(cN);}else cM.k(cN);},ct:cM.ct});};};bJ.TryFinally=function(cK,cL){return function(cM){cK({k:function(cN){try{cL();cM.k(cN);}catch(cO){cM.k({$:1,$0:cO});}},ct:cM.ct});};};bJ.Delay=function(cK){return function(cL){try{(cK(null))(cL);}catch(cM){cL.k({$:1,$0:cM});}};};bJ.Combine=function(cK,cL){return bJ.Bind(cK,function(){return cL;});};bJ.Bind=function(cK,cL){return bJ.checkCancel(function(cM){cK({k:function(cN){var cO;if(cN.$==0){cO=cN.$0;bJ.scheduler().Fork(function(){try{(cL(cO))(cM);}catch(cP){cM.k({$:1,$0:cP});}});}else bJ.scheduler().Fork(function(){cM.k(cN);});},ct:cM.ct});});};bJ.Zero=function(){bL.$cctor();return bL.Zero;};bJ.Return=function(cK){return function(cL){cL.k({$:0,$0:cK});};};bJ.checkCancel=function(cK){return function(cL){if(cL.ct.c)bJ.cancel(cL);else cK(cL);};};bJ.cancel=function(cK){cK.k({$:2,$0:new b8.New(cK.ct)});};bJ.defCTS=function(){bL.$cctor();return bL.defCTS;};bJ.scheduler=function(){bL.$cctor();return bL.scheduler;};bJ.Register=function(cK,cL){var cM;return cK===bJ.noneCT()?{Dispose:function(){return null;}}:(cM=cK.r.push(cL)-1,{Dispose:function(){return bS.set(cK.r,cM,a.ignore);}});};bJ.noneCT=function(){bL.$cctor();return bL.noneCT;};bL.$cctor=cE.Cctor(function(){bL.noneCT={c:false,r:[]};bL.scheduler=new bK.New();bL.defCTS=[new bW.New()];bL.Zero=bJ.Return();bL.GetCT=function(cK){cK.k({$:0,$0:cK.ct});};bL.$cctor=a.ignore;});bN=bM.T=cE.Class({Dispose:function(){if(this.d)this.d(this);},Current:function(){return this.c;},Current0:function(){return this.c;},MoveNext:function(){return this.n(this);}},null,bN);bN.New=cE.Ctor(function(cK,cL,cM,cN){this.s=cK;this.c=cL;this.n=cM;this.d=cN;},bN);bM.Get0=function(cK){return cK instanceof a.Array?bM.ArrayEnumerator(cK):cw.Equals(typeof cK,"string")?bM.StringEnumerator(cK):"GetEnumerator0"in cK?cK.GetEnumerator0():cK.GetEnumerator();};bM.Get=function(cK){return cK instanceof a.Array?bM.ArrayEnumerator(cK):cw.Equals(typeof cK,"string")?bM.StringEnumerator(cK):cK.GetEnumerator();};bM.StringEnumerator=function(cK){return new bN.New(0,null,function(cL){var cM;cM=cL.s;return cM<cK.length&&(cL.c=cK.charCodeAt(cM),cL.s=cM+1,true);},void 0);};bM.ArrayEnumerator=function(cK){return new bN.New(0,null,function(cL){var cM;cM=cL.s;return cM<bS.length(cK)&&(cL.c=bS.get(cK,cM),cL.s=cM+1,true);},void 0);};bP=bO.SingleNode=cE.Class({ReplaceInDom:function(cK){this.node.parentNode.replaceChild(this.node,cK);}},null,bP);bP.New=cE.Ctor(function(cK){this.node=cK;},bP);bQ.hasDocument=function(){return typeof a.document!=="undefined";};bQ.Activate=function(){var cK;if(bQ.hasDocument()){cK=a.document.getElementById("websharper-data");cK?a.jQuery(a.document).ready(function(){function cL(cM,cN){cN.Body().ReplaceInDom(a.document.getElementById(cM));}return bS.iter(function(cM){return cL(cM[0],cM[1]);},bu.GetFields(bD.Activate(cF.parse(cK.getAttribute("content")))));}):void 0;}};bR.Undefined={$:0};bS.splitInto=function(cK,cL){var cM,cN,cO,cP,cQ,cR,cS,cT,cU;if(cK<=0)ck.FailWith("Count must be positive");cN=bS.length(cL);if(cN===0)return[];else{cO=cw.Compare(cK,cN)===-1?cK:cN;cP=bS.create(cO,null);cQ=cN/cO>>0;cM=0;for(cR=0,cS=cN%cO-1;cR<=cS;cR++){cP[cR]=bS.sub(cL,cM,cQ+1);cM=cM+cQ+1;}for(cT=cN%cO,cU=cO-1;cT<=cU;cT++){cP[cT]=bS.sub(cL,cM,cQ);cM=cM+cQ;}return cP;}};bS.contains=function(cK,cL){var cM,cN,cO,cP;cM=true;cN=0;cP=bS.length(cL);while(cM&&cN<cP)if(cw.Equals(cL[cN],cK))cM=false;else cN=cN+1;return!cM;};bS.tryFindBack=function(cK,cL){var cM,cN,cO;cM=null;cN=cL.length-1;while(cN>=0&&cM==null){cO=cL[cN];cK(cO)?cM={$:1,$0:cO}:void 0;cN=cN-1;}return cM;};bS.tryFindIndexBack=function(cK,cL){var cM,cN;cM=null;cN=cL.length-1;while(cN>=0&&cM==null){cK(bS.get(cL,cN))?cM={$:1,$0:cN}:void 0;cN=cN-1;}return cM;};bS.mapFold=function(cK,cL,cM){var cN,cO,cP,cQ,cR;cO=new a.Array(cM.length);cN=cL;for(cP=0,cQ=cM.length-1;cP<=cQ;cP++){cR=cK(cN,cM[cP]);cO[cP]=cR[0];cN=cR[1];}return[cO,cN];};bS.mapFoldBack=function(cK,cL,cM){var cN,cO,cP,cQ,cR,cS,cT,cU;cP=new a.Array(cL.length);cN=cM;cQ=cL.length;for(cR=1,cS=cQ;cR<=cS;cR++){cT=cQ-cR;cU=cK(cL[cT],cN);cP[cT]=cU[0];cN=cU[1];}return[cP,cN];};bS.mapInPlace=function(cK,cL){var cM,cN;for(cM=0,cN=cL.length-1;cM<=cN;cM++)cL[cM]=cK(cL[cM]);};bS.mapiInPlace=function(cK,cL){var cM,cN;for(cM=0,cN=cL.length-1;cM<=cN;cM++)cL[cM]=cK(cM,cL[cM]);return cL;};bS.sortInPlaceByDescending=function(cK,cL){bS.mapInPlace(function(cM){return cM[0];},bS.mapiInPlace(function(cM,cN){return[cN,[cK(cN),cM]];},cL).sort(function(cM,cN){return-cw.Compare(cM[1],cN[1]);}));};bT.tryHead=function(cK){var cL;cL=bM.Get(cK);try{return cL.MoveNext()?{$:1,$0:cL.Current()}:null;}finally{if("Dispose"in cL)cL.Dispose();}};bT.tryItem=function(cK,cL){var cM,cN,cO;if(cK<0)return null;else{cM=0;cN=bM.Get(cL);try{cO=true;while(cO&&cM<=cK)if(cN.MoveNext())cM=cM+1;else cO=false;return cO?{$:1,$0:cN.Current()}:null;}finally{if("Dispose"in cN)cN.Dispose();}}};bT.tryLast=function(cK){var cL,cM;cL=bM.Get(cK);try{if(cL.MoveNext()){while(cL.MoveNext());cM={$:1,$0:cL.Current()};}else cM=null;return cM;}finally{if("Dispose"in cL)cL.Dispose();}};bT.chunkBySize=function(cK,cL){cK<=0?ck.FailWith("Chunk size must be positive"):void 0;return{GetEnumerator:function(){var cM;cM=bM.Get(cL);return new bN.New(null,null,function(cN){var cO;if(cM.MoveNext()){cO=[cM.Current()];while(bS.length(cO)<cK&&cM.MoveNext())cO.push(cM.Current());cN.c=cO;return true;}else return false;},function(){cM.Dispose();});}};};bS.countBy=function(cK,cL){var cM,cN,cO,cP,cQ;cM=new b5.New$5();cN=[];for(cO=0,cP=bS.length(cL)-1;cO<=cP;cO++){cQ=cK(cL[cO]);cM.ContainsKey(cQ)?cM.set_Item(cQ,cM.get_Item(cQ)+1):(cN.push(cQ),cM.Add(cQ,1));}bS.mapInPlace(function(cR){return[cR,cM.get_Item(cR)];},cN);return cN;};bT.except=function(cK,cL){return{GetEnumerator:function(){var cM,cN;cM=bM.Get(cL);cN=new cg.New$2(cK);return new bN.New(null,null,function(cO){var cP,cQ;if(cM.MoveNext()){cP=cM.Current();cQ=cN.Add(cP);while(!cQ&&cM.MoveNext()){cP=cM.Current();cQ=cN.Add(cP);}return cQ&&(cO.c=cP,true);}else return false;},function(){cM.Dispose();});}};};bU.skip=function(cK,cL){var cM,cN,cO;cM=cL;for(cN=1,cO=cK;cN<=cO;cN++)if(cM.$==0)ck.FailWith("Input list too short.");else cM=cM.$1;return cM;};bS.groupBy=function(cK,cL){var cM,cN,cO,cP,cQ,cR;cM=new b5.New$5();cN=[];for(cO=0,cP=bS.length(cL)-1;cO<=cP;cO++){cQ=cL[cO];cR=cK(cQ);cM.ContainsKey(cR)?cM.get_Item(cR).push(cQ):(cN.push(cR),cM.Add(cR,[cQ]));}bS.mapInPlace(function(cS){return[cS,cM.get_Item(cS)];},cN);return cN;};bT.insufficient=function(){return ck.FailWith("The input sequence has an insufficient number of elements.");};bT.last=function(cK){var cL,cM;cL=bM.Get(cK);try{if(!cL.MoveNext())cM=bT.insufficient();else{while(cL.MoveNext());cM=cL.Current();}return cM;}finally{if("Dispose"in cL)cL.Dispose();}};bT.contains=function(cK,cL){var cM,cN;cM=bM.Get(cL);try{cN=false;while(!cN&&cM.MoveNext())cN=cw.Equals(cM.Current(),cK);return cN;}finally{if("Dispose"in cM)cM.Dispose();}};bU.skipWhile=function(cK,cL){var cM;cM=cL;while(!(cM.$==0)&&cK(bU.head(cM)))cM=bU.tail(cM);return cM;};bT.nonNegative=function(){return ck.FailWith("The input must be non-negative.");};bS.checkBounds=function(cK,cL){if(cL<0||cL>=cK.length)ck.FailWith("Index was outside the bounds of the array.");};bS.checkBounds2D=function(cK,cL,cM){if(cL<0||cM<0||cL>=cK.length||cM>=(cK.length?cK[0].length:0))throw new b7.New();};bS.checkRange=function(cK,cL,cM){if(cM<0||cL<0||cK.length<cL+cM)ck.FailWith("Index was outside the bounds of the array.");};bS.set=function(cK,cL,cM){bS.checkBounds(cK,cL);cK[cL]=cM;};bS.get=function(cK,cL){bS.checkBounds(cK,cL);return cK[cL];};bS.sub=function(cK,cL,cM){bS.checkRange(cK,cL,cM);return cK.slice(cL,cL+cM);};bS.setSub=function(cK,cL,cM,cN){var cO,cP;for(cO=0,cP=cM-1;cO<=cP;cO++)bS.set(cK,cL+cO,bS.get(cN,cO));};bS.get2D=function(cK,cL,cM){bS.checkBounds2D(cK,cL,cM);return cK[cL][cM];};bS.set2D=function(cK,cL,cM,cN){bS.checkBounds2D(cK,cL,cM);cK[cL][cM]=cN;};bS.zeroCreate2D=function(cK,cL){var cM;cM=bS.init(cK,function(){return bS.create(cL,null);});cM.dims=2;return cM;};bS.sub2D=function(cK,cL,cM,cN,cO){var cP,cQ,cR,cS,cT,cU,cV;cP=cN<0?0:cN;cQ=cO<0?0:cO;cR=bS.zeroCreate2D(cP,cQ);for(cS=0,cT=cP-1;cS<=cT;cS++){for(cU=0,cV=cQ-1;cU<=cV;cU++)bS.set2D(cR,cS,cU,bS.get2D(cK,cL+cS,cM+cU));}return cR;};bS.setSub2D=function(cK,cL,cM,cN,cO,cP){var cQ,cR,cS,cT;for(cQ=0,cR=cN-1;cQ<=cR;cQ++){for(cS=0,cT=cO-1;cS<=cT;cS++)bS.set2D(cK,cL+cQ,cM+cS,bS.get2D(cP,cQ,cS));}};bS.length=function(cK){return cK.dims===2?cK.length*cK.length:cK.length;};S.checkThis=function(cK){return cw.Equals(cK,null)?ck.InvalidOp("The initialization of an object or value resulted in an object or value being accessed recursively before it was fully initialized."):cK;};bS.reverse=function(cK,cL,cM){var cN;cN=bS.sub(cK,cL,cM).slice().reverse();bS.blit(cN,0,cK,cL,bS.length(cN));};bS.sum=function(cK){var cL,cM;cL=0;cM=0;for(;cM<cK.length;cM++)cL+=cK[cM];return cL;};bS.sumBy=function(cK,cL){var cM,cN;cM=0;cN=0;for(;cN<cL.length;cN++)cM+=cK(cL[cN]);return cM;};bS.allPairs=function(cK,cL){var cM,cN,cO,cP,cQ,cR,cS;cM=cK.length;cN=cL.length;cO=new a.Array(cM*cN);for(cP=0,cQ=cM-1;cP<=cQ;cP++){for(cR=0,cS=cN-1;cR<=cS;cR++)cO[cP*cN+cR]=[cK[cP],cL[cR]];}return cO;};bS.average=function(cK){return a.Number(bS.sum(cK))/a.Number(cK.length);};bS.averageBy=function(cK,cL){return a.Number(bS.sumBy(cK,cL))/a.Number(cL.length);};bS.blit=function(cK,cL,cM,cN,cO){var cP,cQ;bS.checkRange(cK,cL,cO);bS.checkRange(cM,cN,cO);for(cP=0,cQ=cO-1;cP<=cQ;cP++)cM[cN+cP]=cK[cL+cP];};bS.choose=function(cK,cL){var cM,cN,cO,cP;cM=[];for(cN=0,cO=cL.length-1;cN<=cO;cN++){cP=cK(cL[cN]);cP==null?void 0:cM.push(cP.$0);}return cM;};bS.collect=function(cK,cL){return a.Array.prototype.concat.apply([],bS.map(cK,cL));};bS.concat=function(cK){return a.Array.prototype.concat.apply([],bS.ofSeq(cK));};bS.create=function(cK,cL){var cM,cN,cO;cM=new a.Array(cK);for(cN=0,cO=cK-1;cN<=cO;cN++)cM[cN]=cL;return cM;};bS.exists=function(cK,cL){var cM,cN,cO,cP;cM=false;cN=0;cP=bS.length(cL);while(!cM&&cN<cP)if(cK(cL[cN]))cM=true;else cN=cN+1;return cM;};bS.exists2=function(cK,cL,cM){var cN,cO,cP,cQ;bS.checkLength(cL,cM);cN=false;cO=0;cQ=bS.length(cL);while(!cN&&cO<cQ)if(cK(cL[cO],cM[cO]))cN=true;else cO=cO+1;return cN;};bS.fill=function(cK,cL,cM,cN){var cO,cP;bS.checkRange(cK,cL,cM);for(cO=cL,cP=cL+cM-1;cO<=cP;cO++)cK[cO]=cN;};bS.filter=function(cK,cL){var cM,cN,cO;cM=[];for(cN=0,cO=cL.length-1;cN<=cO;cN++)if(cK(cL[cN]))cM.push(cL[cN]);return cM;};bS.find=function(cK,cL){var cM;cM=bS.tryFind(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bS.findIndex=function(cK,cL){var cM;cM=bS.tryFindIndex(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bS.fold=function(cK,cL,cM){var cN,cO,cP;cN=cL;for(cO=0,cP=cM.length-1;cO<=cP;cO++)cN=cK(cN,cM[cO]);return cN;};bS.fold2=function(cK,cL,cM,cN){var cO,cP,cQ;bS.checkLength(cM,cN);cO=cL;for(cP=0,cQ=cM.length-1;cP<=cQ;cP++)cO=cK(cO,cM[cP],cN[cP]);return cO;};bS.foldBack=function(cK,cL,cM){var cN,cO,cP,cQ,cR;cN=cM;cP=cL.length;for(cQ=1,cR=cP;cQ<=cR;cQ++)cN=cK(cL[cP-cQ],cN);return cN;};bS.foldBack2=function(cK,cL,cM,cN){var cO,cP,cQ,cR,cS;bS.checkLength(cL,cM);cQ=cL.length;cP=cN;for(cR=1,cS=cQ;cR<=cS;cR++)cP=cK(cL[cQ-cR],cM[cQ-cR],cP);return cP;};bS.forall=function(cK,cL){var cM,cN,cO,cP;cM=true;cN=0;cP=bS.length(cL);while(cM&&cN<cP)if(cK(cL[cN]))cN=cN+1;else cM=false;return cM;};bS.forall2=function(cK,cL,cM){var cN,cO,cP,cQ;bS.checkLength(cL,cM);cN=true;cO=0;cQ=bS.length(cL);while(cN&&cO<cQ)if(cK(cL[cO],cM[cO]))cO=cO+1;else cN=false;return cN;};bS.init=function(cK,cL){var cM,cN,cO;cK<0?ck.FailWith("Negative size given."):null;cM=new a.Array(cK);for(cN=0,cO=cK-1;cN<=cO;cN++)cM[cN]=cL(cN);return cM;};bS.iter=function(cK,cL){var cM,cN;for(cM=0,cN=cL.length-1;cM<=cN;cM++)cK(cL[cM]);};bS.iter2=function(cK,cL,cM){var cN,cO;bS.checkLength(cL,cM);for(cN=0,cO=cL.length-1;cN<=cO;cN++)cK(cL[cN],cM[cN]);};bS.iteri=function(cK,cL){var cM,cN;for(cM=0,cN=cL.length-1;cM<=cN;cM++)cK(cM,cL[cM]);};bS.iteri2=function(cK,cL,cM){var cN,cO;bS.checkLength(cL,cM);for(cN=0,cO=cL.length-1;cN<=cO;cN++)cK(cN,cL[cN],cM[cN]);};bS.map=function(cK,cL){var cM,cN,cO;cM=new a.Array(cL.length);for(cN=0,cO=cL.length-1;cN<=cO;cN++)cM[cN]=cK(cL[cN]);return cM;};bS.map2=function(cK,cL,cM){var cN,cO,cP;bS.checkLength(cL,cM);cN=new a.Array(cM.length);for(cO=0,cP=cM.length-1;cO<=cP;cO++)cN[cO]=cK(cL[cO],cM[cO]);return cN;};bS.mapi=function(cK,cL){var cM,cN,cO;cM=new a.Array(cL.length);for(cN=0,cO=cL.length-1;cN<=cO;cN++)cM[cN]=cK(cN,cL[cN]);return cM;};bS.mapi2=function(cK,cL,cM){var cN,cO,cP;bS.checkLength(cL,cM);cN=new a.Array(cL.length);for(cO=0,cP=cL.length-1;cO<=cP;cO++)cN[cO]=cK(cO,cL[cO],cM[cO]);return cN;};bS.max=function(cK){return bS.reduce(function(cL,cM){return cw.Compare(cL,cM)===1?cL:cM;},cK);};bS.maxBy=function(cK,cL){return bS.reduce(function(cM,cN){return cw.Compare(cK(cM),cK(cN))===1?cM:cN;},cL);};bS.min=function(cK){return bS.reduce(function(cL,cM){return cw.Compare(cL,cM)===-1?cL:cM;},cK);};bS.minBy=function(cK,cL){return bS.reduce(function(cM,cN){return cw.Compare(cK(cM),cK(cN))===-1?cM:cN;},cL);};bS.ofList=function(cK){var cL,cM;cM=[];cL=cK;while(!(cL.$==0)){cM.push(bU.head(cL));cL=bU.tail(cL);}return cM;};bS.ofSeq=function(cK){var cL,cM;if(cK instanceof a.Array)return cK.slice();else if(cK instanceof ci)return bS.ofList(cK);else{cL=[];cM=bM.Get(cK);try{while(cM.MoveNext())cL.push(cM.Current());return cL;}finally{if("Dispose"in cM)cM.Dispose();}}};bS.partition=function(cK,cL){var cM,cN,cO,cP;cM=[];cN=[];for(cO=0,cP=cL.length-1;cO<=cP;cO++)if(cK(cL[cO]))cM.push(cL[cO]);else cN.push(cL[cO]);return[cM,cN];};bS.permute=function(cK,cL){var cM,cN,cO;cM=new a.Array(cL.length);for(cN=0,cO=cL.length-1;cN<=cO;cN++)cM[cK(cN)]=cL[cN];return cM;};bS.pick=function(cK,cL){var cM;cM=bS.tryPick(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bS.reduce=function(cK,cL){var cM,cN,cO;bS.nonEmpty(cL);cM=cL[0];for(cN=1,cO=cL.length-1;cN<=cO;cN++)cM=cK(cM,cL[cN]);return cM;};bS.reduceBack=function(cK,cL){var cM,cN,cO,cP,cQ;bS.nonEmpty(cL);cO=cL.length;cN=cL[cO-1];for(cP=2,cQ=cO;cP<=cQ;cP++)cN=cK(cL[cO-cP],cN);return cN;};bS.scan=function(cK,cL,cM){var cN,cO,cP;cN=new a.Array(1+cM.length);cN[0]=cL;for(cO=0,cP=cM.length-1;cO<=cP;cO++)cN[cO+1]=cK(cN[cO],cM[cO]);return cN;};bS.scanBack=function(cK,cL,cM){var cN,cO,cP,cQ;cN=cL.length;cO=new a.Array(1+cN);cO[cN]=cM;for(cP=0,cQ=cN-1;cP<=cQ;cP++)cO[cN-cP-1]=cK(cL[cN-cP-1],cO[cN-cP]);return cO;};bS.sort=function(cK){return bS.map(function(cL){return cL[0];},bS.mapi(function(cL,cM){return[cM,cL];},cK).sort(cw.Compare));};bS.sortBy=function(cK,cL){return bS.map(function(cM){return cM[0];},bS.mapi(function(cM,cN){return[cN,[cK(cN),cM]];},cL).sort(function(cM,cN){return cw.Compare(cM[1],cN[1]);}));};bS.sortInPlace=function(cK){bS.mapInPlace(function(cL){return cL[0];},bS.mapiInPlace(function(cL,cM){return[cM,cL];},cK).sort(cw.Compare));};bS.sortInPlaceBy=function(cK,cL){bS.mapInPlace(function(cM){return cM[0];},bS.mapiInPlace(function(cM,cN){return[cN,[cK(cN),cM]];},cL).sort(function(cM,cN){return cw.Compare(cM[1],cN[1]);}));};bS.sortInPlaceWith=function(cK,cL){cL.sort(cK);};bS.sortWith=function(cK,cL){return cL.slice().sort(cK);};bS.sortByDescending=function(cK,cL){return bS.map(function(cM){return cM[0];},bS.mapi(function(cM,cN){return[cN,[cK(cN),cM]];},cL).sort(function(cM,cN){return-cw.Compare(cM[1],cN[1]);}));};bS.sortDescending=function(cK){return bS.map(function(cL){return cL[0];},bS.mapi(function(cL,cM){return[cM,cL];},cK).sort(function(cL,cM){return-cw.Compare(cL,cM);}));};bS.tryFind=function(cK,cL){var cM,cN;cM=null;cN=0;while(cN<cL.length&&cM==null){cK(cL[cN])?cM={$:1,$0:cL[cN]}:void 0;cN=cN+1;}return cM;};bS.tryFindIndex=function(cK,cL){var cM,cN;cM=null;cN=0;while(cN<cL.length&&cM==null){cK(cL[cN])?cM={$:1,$0:cN}:void 0;cN=cN+1;}return cM;};bS.tryHead=function(cK){return cK.length===0?null:{$:1,$0:cK[0]};};bS.tryItem=function(cK,cL){return cL.length<=cK||cK<0?null:{$:1,$0:cL[cK]};};bS.tryLast=function(cK){var cL;cL=cK.length;return cL===0?null:{$:1,$0:cK[cL-1]};};bS.tryPick=function(cK,cL){var cM,cN,cO;cM=null;cN=0;while(cN<cL.length&&cM==null){cO=cK(cL[cN]);cO!=null&&cO.$==1?cM=cO:void 0;cN=cN+1;}return cM;};bS.unzip=function(cK){var cL,cM,cN,cO,cP;cL=[];cM=[];for(cN=0,cO=cK.length-1;cN<=cO;cN++){cP=cK[cN];cL.push(cP[0]);cM.push(cP[1]);}return[cL,cM];};bS.unzip3=function(cK){var cL,cM,cN,cO,cP,cQ;cL=[];cM=[];cN=[];for(cO=0,cP=cK.length-1;cO<=cP;cO++){cQ=cK[cO];cL.push(cQ[0]);cM.push(cQ[1]);cN.push(cQ[2]);}return[cL,cM,cN];};bS.zip=function(cK,cL){var cM,cN,cO;bS.checkLength(cK,cL);cM=bS.create(cK.length,null);for(cN=0,cO=cK.length-1;cN<=cO;cN++)cM[cN]=[cK[cN],cL[cN]];return cM;};bS.zip3=function(cK,cL,cM){var cN,cO,cP;bS.checkLength(cK,cL);bS.checkLength(cL,cM);cN=bS.create(cK.length,null);for(cO=0,cP=cK.length-1;cO<=cP;cO++)cN[cO]=[cK[cO],cL[cO],cM[cO]];return cN;};bS.chunkBySize=function(cK,cL){return bS.ofSeq(bT.chunkBySize(cK,cL));};bS.compareWith=function(cK,cL,cM){return bT.compareWith(cK,cL,cM);};bS.distinct=function(cK){return bS.ofSeq(bT.distinct(cK));};bS.distinctBy=function(cK,cL){return bS.ofSeq(bT.distinctBy(cK,cL));};bS.except=function(cK,cL){return bS.ofSeq(bT.except(cK,cL));};bS.findBack=function(cK,cL){var cM;cM=bS.tryFindBack(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bS.findIndexBack=function(cK,cL){var cM;cM=bS.tryFindIndexBack(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bS.head=function(cK){bS.nonEmpty(cK);return cK[0];};bS.last=function(cK){bS.nonEmpty(cK);return cK[cK.length-1];};bS.map3=function(cK,cL,cM,cN){var cO,cP,cQ;bS.checkLength(cL,cM);bS.checkLength(cL,cN);cO=new a.Array(cN.length);for(cP=0,cQ=cN.length-1;cP<=cQ;cP++)cO[cP]=cK(cL[cP],cM[cP],cN[cP]);return cO;};bS.pairwise=function(cK){return bS.ofSeq(bT.pairwise(cK));};bS.replicate=function(cK,cL){return bS.create(cK,cL);};bS.indexed=function(cK){return bS.mapi(function(cL,cM){return[cL,cM];},cK);};bS.skip=function(cK,cL){return cK<0?bT.nonNegative():cK>cL.length?bT.insufficient():cL.slice(cK);};bS.skipWhile=function(cK,cL){var cM,cN;cN=cL.length;cM=0;while(cM<cN&&cK(cL[cM]))cM=cM+1;return cL.slice(cM);};bS.tail=function(cK){return bS.skip(1,cK);};bS.take=function(cK,cL){return cK<0?bT.nonNegative():cK>cL.length?bT.insufficient():cL.slice(0,cK);};bS.takeWhile=function(cK,cL){var cM,cN;cN=cL.length;cM=0;while(cM<cN&&cK(cL[cM]))cM=cM+1;return cL.slice(0,cM);};bS.exactlyOne=function(cK){return cK.length===1?cK[0]:ck.FailWith("The input does not have precisely one element.");};bS.unfold=function(cK,cL){return bS.ofSeq(bT.unfold(cK,cL));};bS.windowed=function(cK,cL){return bS.ofSeq(bT.windowed(cK,cL));};bS.splitAt=function(cK,cL){return[bS.take(cK,cL),bS.skip(cK,cL)];};bS.nonEmpty=function(cK){if(cK.length===0)ck.FailWith("The input array was empty.");};bS.checkLength=function(cK,cL){if(cK.length!==cL.length)ck.FailWith("The arrays have different lengths.");};bV.init=function(cK,cL,cM){var cN,cO,cP,cQ,cR;cN=bS.zeroCreate2D(cK,cL);for(cO=0,cP=cK-1;cO<=cP;cO++){for(cQ=0,cR=cL-1;cQ<=cR;cQ++)bS.set2D(cN,cO,cQ,cM(cO,cQ));}return cN;};bV.iter=function(cK,cL){var cM,cN,cO,cP,cQ,cR;cM=cL.length;cN=cL.length?cL[0].length:0;for(cO=0,cP=cM-1;cO<=cP;cO++){for(cQ=0,cR=cN-1;cQ<=cR;cQ++)cK(bS.get2D(cL,cO,cQ));}};bV.iteri=function(cK,cL){var cM,cN,cO,cP,cQ,cR;cM=cL.length;cN=cL.length?cL[0].length:0;for(cO=0,cP=cM-1;cO<=cP;cO++){for(cQ=0,cR=cN-1;cQ<=cR;cQ++)cK(cO,cQ,bS.get2D(cL,cO,cQ));}};bV.map=function(cK,cL){return bV.init(cL.length,cL.length?cL[0].length:0,function(cM,cN){return cK(bS.get2D(cL,cM,cN));});};bV.mapi=function(cK,cL){return bV.init(cL.length,cL.length?cL[0].length:0,function(cM,cN){return cK(cM,cN,bS.get2D(cL,cM,cN));});};bV.copy=function(cK){return bV.init(cK.length,cK.length?cK[0].length:0,function(cL,cM){return bS.get2D(cK,cL,cM);});};bW=S.CancellationTokenSource=cE.Class({CancelAfter:function(cK){var cL,cM;cL=this;!this.c?(cM=this.pending,cM==null?void 0:a.clearTimeout(cM.$0),this.pending={$:1,$0:a.setTimeout(function(){cL.Cancel$1();},cK)}):void 0;},Cancel:function(cK){if(!cK)this.Cancel$1();else if(!this.c){this.c=true;bS.iter(function(cL){cL();},this.r);}},Cancel$1:function(){var cK;if(!this.c){this.c=true;cK=bS.choose(function(cL){try{cL();return null;}catch(cM){return{$:1,$0:cM};}},this.r);if(bS.length(cK)>0)throw new ca.New$3(cK);else void 0;}}},null,bW);bW.CreateLinkedTokenSource=function(cK,cL){return bW.CreateLinkedTokenSource$1([cK,cL]);};bW.CreateLinkedTokenSource$1=function(cK){var cL;cL=new bW.New();bS.iter(function(cM){function cN(cO){return cL.Cancel$1();}bJ.Register(cM,function(){cN();});},cK);return cL;};bW.New=cE.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},bW);bX.IsWhiteSpace=function(cK){return cI.fromCharCode(cK).match(new a.RegExp("\\s"))!==null;};bX.Parse=function(cK){return cK.length===1?cK.charCodeAt(0):ck.FailWith("String must be exactly one character long.");};bX.IsUpper=function(cK){return cK>=65&&cK<=90;};bX.IsLower=function(cK){return cK>=97&&cK<=122;};bX.IsLetterOrDigit=function(cK){return bX.IsLetter(cK)||bX.IsDigit(cK);};bX.IsLetter=function(cK){return cK>=65&&cK<=90||cK>=97&&cK<=122;};bX.IsDigit=function(cK){return cK>=48&&cK<=57;};bX.IsControl=function(cK){return cK>=0&&cK<=31||cK>=128&&cK<=159;};bX.GetNumericValue=function(cK){return cK>=48&&cK<=57?a.Number(cK)-a.Number(48):-1;};bY.observer=function(cK){return{OnCompleted:function(){return null;},OnError:function(){return null;},OnNext:cK};};bZ.LongTime=function(cK){return(new cG(cK)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});};bZ.ShortTime=function(cK){return(new cG(cK)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});};bZ.LongDate=function(cK){return(new cG(cK)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});};bZ.Parse=function(cK){var cL;cL=bZ.TryParse(cK);return cL!=null&&cL.$==1?cL.$0:ck.FailWith("Failed to parse date string.");};bZ.TryParse=function(cK){var cL;cL=cG.parse(cK);return a.isNaN(cL)?null:{$:1,$0:cL};};bZ.AddMonths=function(cK,cL){var cM;cM=new cG(cK);return(new cG(cM.getFullYear(),cM.getMonth()+cL,cM.getDate(),cM.getHours(),cM.getMinutes(),cM.getSeconds(),cM.getMilliseconds())).getTime();};bZ.AddYears=function(cK,cL){var cM;cM=new cG(cK);return(new cG(cM.getFullYear()+cL,cM.getMonth(),cM.getDate(),cM.getHours(),cM.getMinutes(),cM.getSeconds(),cM.getMilliseconds())).getTime();};bZ.TimePortion=function(cK){var cL;cL=new cG(cK);return(((24*0+cL.getHours())*60+cL.getMinutes())*60+cL.getSeconds())*1000+cL.getMilliseconds();};bZ.DatePortion=function(cK){var cL;cL=new cG(cK);return(new cG(cL.getFullYear(),cL.getMonth(),cL.getDate())).getTime();};b0=S.DateTimeOffset=cE.Class({ToUniversalTime:function(){return new b0.New(this.d,0);},ToLocalTime:function(){return new b0.New(this.d,(new cG()).getTimezoneOffset());}},null,b0);b0.New=cE.Ctor(function(cK,cL){this.d=cK;},b0);b1.InvocationList=function(cK){return cK.$Invokes||[cK];};b1.RemoveAll=function(cK,cL){var cM;cM=b1.InvocationList(cK);bS.length(b1.InvocationList(cL))>1?ck.FailWith("TODO: Remove multicast delegates"):void 0;return cE.CreateDelegate(bS.filter(function(cN){return!cw.Equals(cN,cL);},cM));};b1.Remove=function(cK,cL){var cM,cN,cO,cP,cQ,cR,cS;cO=b1.InvocationList(cK);if(bS.length(b1.InvocationList(cL))>1)ck.FailWith("TODO: Remove multicast delegates");cP=[];cN=false;for(cQ=bS.length(cO)-1,cR=0;cQ>=cR;cQ--){cS=bS.get(cO,cQ);!cN&&cE.DelegateEqual(cS,cL)?cN=true:cP.unshift(cS);}return cE.CreateDelegate(cP);};b1.DelegateTarget=function(cK){var cL;return!cK?null:"$Target"in cK?cK.$Target:"$Invokes"in cK?(cL=cK.$Invokes,(bS.get(cL,bS.length(cL)-1))[1]):null;};b2.getHashCode=function(cK,cL){return cK.CGetHashCode(cL);};b2.equals=function(cK){return function(cL,cM){return cK.CEquals(cL,cM);};};b2.alreadyAdded=function(){return ck.FailWith("An item with the same key has already been added.");};b2.notPresent=function(){return ck.FailWith("The given key was not present in the dictionary.");};b3=T.KeyCollection=cE.Class({GetEnumerator$1:function(){return bM.Get(bT.map(function(cK){return cK.K;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,b3);b3.New=cE.Ctor(function(cK){this.d=cK;},b3);b4=T.ValueCollection=cE.Class({GetEnumerator$1:function(){return bM.Get(bT.map(function(cK){return cK.V;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,b4);b4.New=cE.Ctor(function(cK){this.d=cK;},b4);b5=T.Dictionary=cE.Class({remove:function(cK){var cL,cM,cN,cO;cL=this;cM=this.hash(cK);cN=this.data[cM];return cN&&(cO=bS.filter(function(cP){return!cL.equals.apply(null,[(ck.KeyValue(cP))[0],cK]);},cN),bS.length(cO)<cN.length&&(this.count=this.count-1,this.data[cM]=cO,true));},add:function(cK,cL){var cM,cN,cO;cM=this;cN=this.hash(cK);cO=this.data[cN];cO?(bS.exists(function(cP){return cM.equals.apply(null,[(ck.KeyValue(cP))[0],cK]);},cO)?b2.alreadyAdded():void 0,this.count=this.count+1,cO.push({K:cK,V:cL})):(this.count=this.count+1,this.data[cN]=new a.Array({K:cK,V:cL}));},set:function(cK,cL){var cM,cN,cO,cP;cM=this;cN=this.hash(cK);cO=this.data[cN];cO?(cP=bS.tryFindIndex(function(cQ){return cM.equals.apply(null,[(ck.KeyValue(cQ))[0],cK]);},cO),cP==null?(this.count=this.count+1,cO.push({K:cK,V:cL})):cO[cP.$0]={K:cK,V:cL}):(this.count=this.count+1,this.data[cN]=new a.Array({K:cK,V:cL}));},get:function(cK){var cL,cM;cL=this;cM=this.data[this.hash(cK)];return cM?bS.pick(function(cN){var cO;cO=ck.KeyValue(cN);return cL.equals.apply(null,[cO[0],cK])?{$:1,$0:cO[1]}:null;},cM):b2.notPresent();},get_Keys:function(){return new b3.New(this);},get_Values:function(){return new b4.New(this);},TryGetValue:function(cK,cL){var cM,cN,cO;cM=this;cN=this.data[this.hash(cK)];return cN&&(cO=bS.tryPick(function(cP){var cQ;cQ=ck.KeyValue(cP);return cM.equals.apply(null,[cQ[0],cK])?{$:1,$0:cQ[1]}:null;},cN),cO!=null&&cO.$==1&&(cL.set(cO.$0),true));},Remove:function(cK){return this.remove(cK);},GetEnumerator$1:function(){return bM.Get0(this);},set_Item:function(cK,cL){this.set(cK,cL);},get_Item:function(cK){return this.get(cK);},ContainsKey:function(cK){var cL,cM;cL=this;cM=this.data[this.hash(cK)];return cM&&bS.exists(function(cN){return cL.equals.apply(null,[(ck.KeyValue(cN))[0],cK]);},cM);},Clear:function(){this.data=[];this.count=0;},Add:function(cK,cL){this.add(cK,cL);},GetEnumerator:function(){return bM.Get0(this);},GetEnumerator0:function(){return bM.Get0(bS.concat(bu.GetFieldValues(this.data)));}},null,b5);b5.New=cE.Ctor(function(cK,cL){b5.New$6.call(this,cK,b2.equals(cL),function(cM){return b2.getHashCode(cL,cM);});},b5);b5.New$1=cE.Ctor(function(cK){b5.New$6.call(this,cK,cw.Equals,cw.Hash);},b5);b5.New$2=cE.Ctor(function(cK,cL){b5.New$3.call(this,cL);},b5);b5.New$3=cE.Ctor(function(cK){b5.New$6.call(this,[],b2.equals(cK),function(cL){return b2.getHashCode(cK,cL);});},b5);b5.New$4=cE.Ctor(function(cK){b5.New$5.call(this);},b5);b5.New$5=cE.Ctor(function(){b5.New$6.call(this,[],cw.Equals,cw.Hash);},b5);b5.New$6=cE.Ctor(function(cK,cL,cM){var cN,cO;this.equals=cL;this.hash=cM;this.count=0;this.data=[];cN=bM.Get(cK);try{while(cN.MoveNext()){cO=cN.Current();this.set(cO.K,cO.V);}}finally{if("Dispose"in cN)cN.Dispose();}},b5);b6=S.MatchFailureException=cE.Class({},null,b6);b6.New=cE.Ctor(function(cK,cL,cM){this.message=cK+" at "+cI(cL)+":"+cI(cM);},b6);b7=S.IndexOutOfRangeException=cE.Class({},null,b7);b7.New=cE.Ctor(function(){b7.New$1.call(this,"Index was outside the bounds of the array.");},b7);b7.New$1=cE.Ctor(function(cK){this.message=cK;},b7);b8=S.OperationCanceledException=cE.Class({},null,b8);b8.New=cE.Ctor(function(cK){b8.New$1.call(this,"The operation was canceled.",null,cK);},b8);b8.New$1=cE.Ctor(function(cK,cL,cM){this.message=cK;this.inner=cL;this.ct=cM;},b8);b9=S.ArgumentException=cE.Class({},null,b9);b9.New=cE.Ctor(function(cK,cL){b9.New$2.call(this,cL+"\nParameter name: "+cK);},b9);b9.New$1=cE.Ctor(function(){b9.New$2.call(this,"Value does not fall within the expected range.");},b9);b9.New$2=cE.Ctor(function(cK){this.message=cK;},b9);b_=S.ArgumentOutOfRangeException=cE.Class({},null,b_);b_.New=cE.Ctor(function(){b_.New$1.call(this,"Specified argument was out of the range of valid values.");},b_);b_.New$1=cE.Ctor(function(cK){this.message=cK;},b_);b$=S.InvalidOperationException=cE.Class({},null,b$);b$.New=cE.Ctor(function(){b$.New$1.call(this,"Operation is not valid due to the current state of the object.");},b$);b$.New$1=cE.Ctor(function(cK){this.message=cK;},b$);ca=S.AggregateException=cE.Class({},null,ca);ca.New=cE.Ctor(function(cK,cL){ca.New$4.call(this,cK,[cL]);},ca);ca.New$1=cE.Ctor(function(cK,cL){ca.New$4.call(this,cK,bS.ofSeq(cL));},ca);ca.New$2=cE.Ctor(function(cK){ca.New$4.call(this,"One or more errors occurred.",bS.ofSeq(cK));},ca);ca.New$3=cE.Ctor(function(cK){ca.New$4.call(this,"One or more errors occurred.",cK);},ca);ca.New$4=cE.Ctor(function(cK,cL){this.message=cK;this.innerExceptions=cL;},ca);cb=S.TimeoutException=cE.Class({},null,cb);cb.New=cE.Ctor(function(){cb.New$1.call(this,"The operation has timed out.");},cb);cb.New$1=cE.Ctor(function(cK){this.message=cK;},cb);cc=S.FormatException=cE.Class({},null,cc);cc.New=cE.Ctor(function(){cc.New$1.call(this,"One of the identified items was in an invalid format.");},cc);cc.New$1=cE.Ctor(function(cK){this.message=cK;},cc);cd=S.OverflowException=cE.Class({},null,cd);cd.New=cE.Ctor(function(){cd.New$1.call(this,"Arithmetic operation resulted in an overflow.");},cd);cd.New$1=cE.Ctor(function(cK){this.message=cK;},cd);bS.create2D=function(cK){var cL;cL=bS.ofSeq(bT.map(bS.ofSeq,cK));cL.dims=2;return cL;};ce.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(cK){var cL,cM;cL=cJ.random()*16|0;cM=cK=="x"?cL:cL&3|8;return cM.toString(16);});};cf.concat=function(cK){var cL,cM;cL=[];for(var cN in cK)cL.push.apply(cL,cK[cN]);return cL;};cg=T.HashSet=cE.Class({add:function(cK){var cL,cM;cL=this.hash(cK);cM=this.data[cL];return cM==null?(this.data[cL]=[cK],this.count=this.count+1,true):this.arrContains(cK,cM)?false:(cM.push(cK),this.count=this.count+1,true);},arrRemove:function(cK,cL){var cM,cN,cO,cP;cM=true;cN=0;cP=cL.length;while(cM&&cN<cP)if(this.equals.apply(null,[cL[cN],cK])){cL.splice.apply(cL,[cN,1]);cM=false;}else cN=cN+1;return!cM;},arrContains:function(cK,cL){var cM,cN,cO,cP;cM=true;cN=0;cP=cL.length;while(cM&&cN<cP)if(this.equals.apply(null,[cL[cN],cK]))cM=false;else cN=cN+1;return!cM;},UnionWith:function(cK){var cL;cL=bM.Get(cK);try{while(cL.MoveNext())this.Add(cL.Current());}finally{if("Dispose"in cL)cL.Dispose();}},SymmetricExceptWith:function(cK){var cL,cM;cL=bM.Get(cK);try{while(cL.MoveNext()){cM=cL.Current();this.Contains(cM)?this.Remove(cM):this.Add(cM);}}finally{if("Dispose"in cL)cL.Dispose();}},SetEquals:function(cK){var cL;cL=new cg.New$4(cK,this.equals,this.hash);return this.get_Count()===cL.get_Count()&&this.IsSupersetOf(cL);},RemoveWhere:function(cK){var cL,cM,cN,cO,cP;cM=cf.concat(this.data);cL=0;for(cN=0,cO=cM.length-1;cN<=cO;cN++){cP=cM[cN];cK(cP)?this.Remove(cP)?cL=cL+1:void 0:void 0;}return cL;},Remove:function(cK){var cL;cL=this.data[this.hash(cK)];return cL==null?false:this.arrRemove(cK,cL)&&(this.count=this.count-1,true);},Overlaps:function(cK){var cL;cL=this;return bT.exists(function(cM){return cL.Contains(cM);},cK);},IsSupersetOf:function(cK){var cL;cL=this;return bT.forall(function(cM){return cL.Contains(cM);},cK);},IsSubsetOf:function(cK){var cL;cL=new cg.New$4(cK,this.equals,this.hash);return bS.forall(function(cM){return cL.Contains(cM);},cf.concat(this.data));},IsProperSupersetOf:function(cK){var cL;cL=bS.ofSeq(cK);return this.count>bS.length(cL)&&this.IsSupersetOf(cL);},IsProperSubsetOf:function(cK){var cL;cL=bS.ofSeq(cK);return this.count<bS.length(cL)&&this.IsSubsetOf(cL);},IntersectWith:function(cK){var cL,cM,cN,cO,cP;cL=new cg.New$4(cK,this.equals,this.hash);cM=cf.concat(this.data);for(cN=0,cO=cM.length-1;cN<=cO;cN++){cP=cM[cN];!cL.Contains(cP)?this.Remove(cP):void 0;}},ExceptWith:function(cK){var cL;cL=bM.Get(cK);try{while(cL.MoveNext())this.Remove(cL.Current());}finally{if("Dispose"in cL)cL.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(cK){var cL,cM,cN,cO;cL=0;cM=cf.concat(this.data);for(cN=0,cO=cM.length-1;cN<=cO;cN++)bS.set(cK,cN,cM[cN]);},Contains:function(cK){var cL;cL=this.data[this.hash(cK)];return cL==null?false:this.arrContains(cK,cL);},Clear:function(){this.data=[];this.count=0;},Add:function(cK){return this.add(cK);},GetEnumerator:function(){return bM.Get(cf.concat(this.data));},GetEnumerator0:function(){return bM.Get(cf.concat(this.data));}},null,cg);cg.New=cE.Ctor(function(cK,cL){cg.New$4.call(this,cK,b2.equals(cL),function(cM){return b2.getHashCode(cL,cM);});},cg);cg.New$1=cE.Ctor(function(cK){cg.New$4.call(this,[],b2.equals(cK),function(cL){return b2.getHashCode(cK,cL);});},cg);cg.New$2=cE.Ctor(function(cK){cg.New$4.call(this,cK,cw.Equals,cw.Hash);},cg);cg.New$3=cE.Ctor(function(){cg.New$4.call(this,[],cw.Equals,cw.Hash);},cg);cg.New$4=cE.Ctor(function(cK,cL,cM){var cN;this.equals=cL;this.hash=cM;this.data=[];this.count=0;cN=bM.Get(cK);try{while(cN.MoveNext())this.add(cN.Current());}finally{if("Dispose"in cN)cN.Dispose();}},cg);ch.Force=function(cK){return cK.f();};ch.CreateFromValue=function(cK){return{c:true,v:cK,f:ch.cachedLazy};};ch.Create=function(cK){return{c:false,v:cK,f:ch.forceLazy};};ch.forceLazy=function(){var cK;cK=this.v();this.c=true;this.v=cK;this.f=ch.cachedLazy;return cK;};ch.cachedLazy=function(){return this.v;};ci=bU.T=cE.Class({GetSlice:function(cK,cL){var cM;return cK!=null&&cK.$==1?cL!=null&&cL.$==1?(cM=cK.$0,bU.ofSeq(bT.take(cL.$0-cM+1,bU.skip(cM,this)))):bU.skip(cK.$0,this):cL!=null&&cL.$==1?bU.ofSeq(bT.take(cL.$0+1,this)):this;},get_Item:function(cK){return bT.nth(cK,this);},get_Length:function(){return bU.length(this);},GetEnumerator:function(){return new bN.New(this,null,function(cK){var cL;cL=cK.s;return cL.$==0?false:(cK.c=cL.$0,cK.s=cL.$1,true);},void 0);},GetEnumerator0:function(){return bM.Get(this);}},null,ci);ci.Empty=new ci({$:0});bU.allPairs=function(cK,cL){return bU.ofArray(bS.allPairs(bS.ofList(cK),bS.ofList(cL)));};bU.append=function(cK,cL){var cM,cN,cO,cP,cQ;if(cK.$==0)return cL;else if(cL.$==0)return cK;else{cP=new ci({$:1});cM=cP;cN=cK;cO=true;while(cO){cM.$0=cN.$0;cN=cN.$1;cN.$==0?cO=false:cM=(cQ=new ci({$:1}),cM.$1=cQ,cQ);}cM.$1=cL;return cP;}};bU.choose=function(cK,cL){return bU.ofSeq(bT.choose(cK,cL));};bU.collect=function(cK,cL){return bU.ofSeq(bT.collect(cK,cL));};bU.concat=function(cK){return bU.ofSeq(bT.concat(cK));};bU.exists=function(cK,cL){var cM,cN;cM=false;cN=cL;while(!cM&&cN.$==1){cM=cK(cN.$0);cN=cN.$1;}return cM;};bU.exists2=function(cK,cL,cM){var cN,cO,cP;cN=false;cO=cL;cP=cM;while(!cN&&cO.$==1&&cP.$==1){cN=cK(cO.$0,cP.$0);cO=cO.$1;cP=cP.$1;}!cN&&(cO.$==1||cP.$==1)?bU.badLengths():void 0;return cN;};bU.filter=function(cK,cL){return bU.ofSeq(bT.filter(cK,cL));};bU.fold2=function(cK,cL,cM,cN){return bS.fold2(cK,cL,bS.ofList(cM),bS.ofList(cN));};bU.foldBack=function(cK,cL,cM){return bS.foldBack(cK,bS.ofList(cL),cM);};bU.foldBack2=function(cK,cL,cM,cN){return bS.foldBack2(cK,bS.ofList(cL),bS.ofList(cM),cN);};bU.forAll=function(cK,cL){var cM,cN;cM=true;cN=cL;while(cM&&cN.$==1){cM=cK(cN.$0);cN=cN.$1;}return cM;};bU.forall2=function(cK,cL,cM){var cN,cO,cP;cN=true;cO=cL;cP=cM;while(cN&&cO.$==1&&cP.$==1){cN=cK(cO.$0,cP.$0);cO=cO.$1;cP=cP.$1;}cN&&(cO.$==1||cP.$==1)?bU.badLengths():void 0;return cN;};bU.head=function(cK){return cK.$==1?cK.$0:bU.listEmpty();};bU.init=function(cK,cL){return bU.ofArray(bS.init(cK,cL));};bU.iter=function(cK,cL){var cM;cM=cL;while(cM.$==1){cK(bU.head(cM));cM=bU.tail(cM);}};bU.iter2=function(cK,cL,cM){var cN,cO;cN=cL;cO=cM;while(cN.$==1){cO.$==0?bU.badLengths():void 0;cK(bU.head(cN),bU.head(cO));cN=bU.tail(cN);cO=bU.tail(cO);}cO.$==1?bU.badLengths():void 0;};bU.iteri=function(cK,cL){var cM,cN;cM=cL;cN=0;while(cM.$==1){cK(cN,bU.head(cM));cM=bU.tail(cM);cN=cN+1;}};bU.iteri2=function(cK,cL,cM){var cN,cO,cP;cN=cL;cO=cM;cP=0;while(cN.$==1){cO.$==0?bU.badLengths():void 0;cK(cP,bU.head(cN),bU.head(cO));cN=bU.tail(cN);cO=bU.tail(cO);cP=cP+1;}cO.$==1?bU.badLengths():void 0;};bU.length=function(cK){var cL,cM;cL=cK;cM=0;while(cL.$==1){cL=bU.tail(cL);cM=cM+1;}return cM;};bU.map=function(cK,cL){var cM,cN,cO,cP,cQ;if(cL.$==0)return cL;else{cP=new ci({$:1});cM=cP;cN=cL;cO=true;while(cO){cM.$0=cK(cN.$0);cN=cN.$1;cN.$==0?cO=false:cM=(cQ=new ci({$:1}),cM.$1=cQ,cQ);}cM.$1=ci.Empty;return cP;}};bU.map2=function(cK,cL,cM){var cN,cO,cP,cQ,cR,cS;cN=cL.$==1&&cM.$==1;if(!cN)return cL.$==1||cM.$==1?bU.badLengths():cL;else{cR=new ci({$:1});cO=cR;cP=cL;cQ=cM;while(cN){cO.$0=cK(cP.$0,cQ.$0);cP=cP.$1;cQ=cQ.$1;cP.$==1&&cQ.$==1?cO=(cS=new ci({$:1}),cO.$1=cS,cS):cN=false;}if(cP.$==1||cQ.$==1)bU.badLengths();cO.$1=ci.Empty;return cR;}};bU.map3=function(cK,cL,cM,cN){var cO,cP,cQ,cR,cS,cT,cU;cO=cL.$==1&&cM.$==1&&cN.$==1;if(!cO)return cL.$==1||cM.$==1||cN.$==1?bU.badLengths():cL;else{cT=new ci({$:1});cP=cT;cQ=cL;cR=cM;cS=cN;while(cO){cP.$0=cK(cQ.$0,cR.$0,cS.$0);cQ=cQ.$1;cR=cR.$1;cS=cS.$1;cQ.$==1&&cR.$==1&&cS.$==1?cP=(cU=new ci({$:1}),cP.$1=cU,cU):cO=false;}if(cQ.$==1||cR.$==1||cS.$==1)bU.badLengths();cP.$1=ci.Empty;return cT;}};bU.mapi=function(cK,cL){var cM,cN,cO,cP,cQ,cR;if(cL.$==0)return cL;else{cQ=new ci({$:1});cM=cQ;cN=cL;cO=0;cP=true;while(cP){cM.$0=cK(cO,cN.$0);cN=cN.$1;cN.$==0?cP=false:(cM=(cR=new ci({$:1}),cM.$1=cR,cR),cO=cO+1);}cM.$1=ci.Empty;return cQ;}};bU.mapi2=function(cK,cL,cM){var cN,cO,cP,cQ,cR,cS,cT;cN=cL.$==1&&cM.$==1;if(!cN)return cL.$==1||cM.$==1?bU.badLengths():cL;else{cS=new ci({$:1});cO=cS;cP=cL;cQ=cM;cR=0;while(cN){cO.$0=cK(cR,cP.$0,cQ.$0);cP=cP.$1;cQ=cQ.$1;cP.$==1&&cQ.$==1?(cO=(cT=new ci({$:1}),cO.$1=cT,cT),cR=cR+1):cN=false;}if(cP.$==1||cQ.$==1)bU.badLengths();cO.$1=ci.Empty;return cS;}};bU.max=function(cK){return bT.reduce(function(cL,cM){return cw.Compare(cL,cM)===1?cL:cM;},cK);};bU.maxBy=function(cK,cL){return bT.reduce(function(cM,cN){return cw.Compare(cK(cM),cK(cN))===1?cM:cN;},cL);};bU.min=function(cK){return bT.reduce(function(cL,cM){return cw.Compare(cL,cM)===-1?cL:cM;},cK);};bU.minBy=function(cK,cL){return bT.reduce(function(cM,cN){return cw.Compare(cK(cM),cK(cN))===-1?cM:cN;},cL);};bU.ofArray=function(cK){var cL,cM,cN;cL=ci.Empty;for(cM=bS.length(cK)-1,cN=0;cM>=cN;cM--)cL=new ci({$:1,$0:bS.get(cK,cM),$1:cL});return cL;};bU.ofSeq=function(cK){var cL,cM,cN,cO,cP,cQ;if(cK instanceof ci)return cK;else if(cK instanceof a.Array)return bU.ofArray(cK);else{cL=bM.Get(cK);try{cN=cL.MoveNext();if(!cN)cM=ci.Empty;else{cP=new ci({$:1});cO=cP;while(cN){cO.$0=cL.Current();cL.MoveNext()?cO=(cQ=new ci({$:1}),cO.$1=cQ,cQ):cN=false;}cO.$1=ci.Empty;cM=cP;}return cM;}finally{if("Dispose"in cL)cL.Dispose();}}};bU.partition=function(cK,cL){var cM;cM=bS.partition(cK,bS.ofList(cL));return[bU.ofArray(cM[0]),bU.ofArray(cM[1])];};bU.permute=function(cK,cL){return bU.ofArray(bS.permute(cK,bS.ofList(cL)));};bU.reduceBack=function(cK,cL){return bS.reduceBack(cK,bS.ofList(cL));};bU.replicate=function(cK,cL){return bU.ofArray(bS.create(cK,cL));};bU.rev=function(cK){var cL,cM;cL=ci.Empty;cM=cK;while(cM.$==1){cL=new ci({$:1,$0:cM.$0,$1:cL});cM=cM.$1;}return cL;};bU.scan=function(cK,cL,cM){return bU.ofSeq(bT.scan(cK,cL,cM));};bU.scanBack=function(cK,cL,cM){return bU.ofArray(bS.scanBack(cK,bS.ofList(cL),cM));};bU.sort=function(cK){var cL;cL=bS.ofList(cK);bS.sortInPlace(cL);return bU.ofArray(cL);};bU.sortBy=function(cK,cL){return bU.sortWith(function(cM,cN){return cw.Compare(cK(cM),cK(cN));},cL);};bU.sortByDescending=function(cK,cL){return bU.sortWith(function(cM,cN){return-cw.Compare(cK(cM),cK(cN));},cL);};bU.sortDescending=function(cK){var cL;cL=bS.ofList(cK);bS.sortInPlaceByDescending(a.id,cL);return bU.ofArray(cL);};bU.sortWith=function(cK,cL){var cM;cM=bS.ofList(cL);bS.sortInPlaceWith(cK,cM);return bU.ofArray(cM);};bU.tail=function(cK){return cK.$==1?cK.$1:bU.listEmpty();};bU.unzip=function(cK){var cL,cM,cN,cO;cL=[];cM=[];cN=bM.Get(cK);try{while(cN.MoveNext()){cO=cN.Current();cL.push(cO[0]);cM.push(cO[1]);}}finally{if("Dispose"in cN)cN.Dispose();}return[bU.ofArray(cL.slice(0)),bU.ofArray(cM.slice(0))];};bU.unzip3=function(cK){var cL,cM,cN,cO,cP;cL=[];cM=[];cN=[];cO=bM.Get(cK);try{while(cO.MoveNext()){cP=cO.Current();cL.push(cP[0]);cM.push(cP[1]);cN.push(cP[2]);}}finally{if("Dispose"in cO)cO.Dispose();}return[bU.ofArray(cL.slice(0)),bU.ofArray(cM.slice(0)),bU.ofArray(cN.slice(0))];};bU.zip=function(cK,cL){return bU.map2(function(cM,cN){return[cM,cN];},cK,cL);};bU.zip3=function(cK,cL,cM){return bU.map3(function(cN,cO,cP){return[cN,cO,cP];},cK,cL,cM);};bU.chunkBySize=function(cK,cL){return bU.map(bU.ofArray,bU.ofSeq(bT.chunkBySize(cK,cL)));};bU.compareWith=function(cK,cL,cM){return bT.compareWith(cK,cL,cM);};bU.countBy=function(cK,cL){return bU.ofArray(bS.countBy(cK,bS.ofList(cL)));};bU.distinct=function(cK){return bU.ofSeq(bT.distinct(cK));};bU.distinctBy=function(cK,cL){return bU.ofSeq(bT.distinctBy(cK,cL));};bU.splitInto=function(cK,cL){return bU.map(bU.ofArray,bU.ofArray(bS.splitInto(cK,bS.ofList(cL))));};bU.except=function(cK,cL){return bU.ofSeq(bT.except(cK,cL));};bU.tryFindBack=function(cK,cL){return bS.tryFindBack(cK,bS.ofList(cL));};bU.findBack=function(cK,cL){var cM;cM=bU.tryFindBack(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bU.findIndexBack=function(cK,cL){var cM;cM=bS.tryFindIndexBack(cK,bS.ofList(cL));return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bU.groupBy=function(cK,cL){var cM;function cN(cO,cP){return[cO,bU.ofArray(cP)];}cM=bS.groupBy(cK,bS.ofList(cL));bS.mapInPlace(function(cO){return cN(cO[0],cO[1]);},cM);return bU.ofArray(cM);};bU.last=function(cK){var cL,cM;cK.$==0?bU.listEmpty():null;cL=cK;cM=cL.$1;while(cM.$==1){cL=cM;cM=cL.$1;}return cL.$0;};bU.contains=function(cK,cL){var cM,cN;cM=false;cN=cL;while(!cM&&cN.$==1){cM=cw.Equals(cK,cN.$0);cN=cN.$1;}return cM;};bU.mapFold=function(cK,cL,cM){var cN;cN=bS.mapFold(cK,cL,bS.ofList(cM));return[bU.ofArray(cN[0]),cN[1]];};bU.mapFoldBack=function(cK,cL,cM){var cN;cN=bS.mapFoldBack(cK,bS.ofList(cL),cM);return[bU.ofArray(cN[0]),cN[1]];};bU.pairwise=function(cK){return bU.ofSeq(bT.pairwise(cK));};bU.indexed=function(cK){return bU.mapi(function(cL,cM){return[cL,cM];},cK);};bU.tryHead=function(cK){return cK.$==0?null:{$:1,$0:cK.$0};};bU.exactlyOne=function(cK){var cL;return cK.$==1&&(cK.$1.$==0&&(cL=cK.$0,true))?cL:ck.FailWith("The input does not have precisely one element.");};bU.unfold=function(cK,cL){return bU.ofSeq(bT.unfold(cK,cL));};bU.windowed=function(cK,cL){return bU.ofSeq(bT.map(bU.ofArray,bT.windowed(cK,cL)));};bU.splitAt=function(cK,cL){return[bU.ofSeq(bT.take(cK,cL)),bU.skip(cK,cL)];};bU.listEmpty=function(){return ck.FailWith("The input list was empty.");};bU.badLengths=function(){return ck.FailWith("The lists have different lengths.");};cj.getOrValue=function(cK,cL){return cK==null?cL:cK;};cj.get=function(cK){return cK==null?ck.FailWith("Nullable object must have a value."):cK;};ck.range=function(cK,cL){var cM;cM=1+cL-cK;return cM<=0?[]:bT.init(cM,function(cN){return cN+cK;});};ck.step=function(cK,cL,cM){var cN;cN=ck.Sign(cL);return bT.takeWhile(function(cO){return cN*(cM-cO)>=0;},bT.initInfinite(function(cO){return cK+cO*cL;}));};ck.KeyValue=function(cK){return[cK.K,cK.V];};ck.Truncate=function(cK){return cK<0?cJ.ceil(cK):cJ.floor(cK);};ck.Sign=function(cK){return cK===0?0:cK<0?-1:1;};ck.Pown=function(cK,cL){function cM(cN){var cO;return cN===1?cK:cN%2===0?(cO=cM(cN/2>>0),cO*cO):cK*cM(cN-1);}return cM(cL);};ck.InvalidArg=function(cK,cL){throw new b9.New(cK,cL);};ck.InvalidOp=function(cK){throw new b$.New$1(cK);};ck.FailWith=function(cK){throw a.Error(cK);};cl.string=function(cK,cL,cM){return cL==null?cM!=null&&cM.$==1?cK.slice(0,cM.$0+1):"":cM==null?cK.slice(cL.$0):cK.slice(cL.$0,cM.$0+1);};cl.array=function(cK,cL,cM){return cL==null?cM!=null&&cM.$==1?cK.slice(0,cM.$0+1):[]:cM==null?cK.slice(cL.$0):cK.slice(cL.$0,cM.$0+1);};cl.setArray=function(cK,cL,cM,cN){var cO;cO=cL!=null&&cL.$==1?cL.$0:0;bS.setSub(cK,cO,(cM!=null&&cM.$==1?cM.$0:cK.length-1)-cO+1,cN);};cl.array2D=function(cK,cL,cM,cN,cO){var cP,cQ;cP=cL!=null&&cL.$==1?cL.$0:0;cQ=cN!=null&&cN.$==1?cN.$0:0;return bS.sub2D(cK,cP,cQ,(cM!=null&&cM.$==1?cM.$0:cK.length-1)-cP+1,(cO!=null&&cO.$==1?cO.$0:(cK.length?cK[0].length:0)-1)-cQ+1);};cl.array2Dfix1=function(cK,cL,cM,cN){var cO,cP,cQ,cR,cS,cT;cO=cM!=null&&cM.$==1?cM.$0:0;cP=cN!=null&&cN.$==1?cN.$0:(cK.length?cK[0].length:0)-1;cQ=cP-cO+1;cR=new a.Array(cQ);for(cS=0,cT=cQ-1;cS<=cT;cS++)bS.set(cR,cS,bS.get2D(cK,cL,cO+cS));return cR;};cl.array2Dfix2=function(cK,cL,cM,cN){var cO,cP,cQ,cR,cS,cT;cO=cL!=null&&cL.$==1?cL.$0:0;cP=cM!=null&&cM.$==1?cM.$0:cK.length-1;cQ=cP-cO+1;cR=new a.Array(cQ);for(cS=0,cT=cQ-1;cS<=cT;cS++)bS.set(cR,cS,bS.get2D(cK,cO+cS,cN));return cR;};cl.setArray2Dfix1=function(cK,cL,cM,cN,cO){var cP,cQ,cR,cS;cP=cM!=null&&cM.$==1?cM.$0:0;cQ=cN!=null&&cN.$==1?cN.$0:(cK.length?cK[0].length:0)-1;for(cR=0,cS=cQ-cP+1-1;cR<=cS;cR++)bS.set2D(cK,cL,cP+cR,bS.get(cO,cR));};cl.setArray2Dfix2=function(cK,cL,cM,cN,cO){var cP,cQ,cR,cS;cP=cL!=null&&cL.$==1?cL.$0:0;cQ=cM!=null&&cM.$==1?cM.$0:cK.length-1;for(cR=0,cS=cQ-cP+1-1;cR<=cS;cR++)bS.set2D(cK,cP+cR,cN,bS.get(cO,cR));};cl.setArray2D=function(cK,cL,cM,cN,cO,cP){var cQ,cR;cQ=cL!=null&&cL.$==1?cL.$0:0;cR=cN!=null&&cN.$==1?cN.$0:0;bS.setSub2D(cK,cQ,cR,(cM!=null&&cM.$==1?cM.$0:cK.length-1)-cQ+1,(cO!=null&&cO.$==1?cO.$0:(cK.length?cK[0].length:0)-1)-cR+1,cP);};cm.filter=function(cK,cL){var cM;return cL!=null&&cL.$==1&&(cK(cL.$0)&&(cM=cL.$0,true))?cL:null;};cm.fold=function(cK,cL,cM){return cM==null?cL:cK(cL,cM.$0);};cm.foldBack=function(cK,cL,cM){return cL==null?cM:cK(cL.$0,cM);};cm.ofNullable=function(cK){return cK==null?null:{$:1,$0:cj.get(cK)};};cm.ofObj=function(cK){return cK==null?null:{$:1,$0:cK};};cm.toArray=function(cK){return cK==null?[]:[cK.$0];};cm.toList=function(cK){return cK==null?ci.Empty:bU.ofArray([cK.$0]);};cm.toNullable=function(cK){return cK!=null&&cK.$==1?cK.$0:null;};cm.toObj=function(cK){return cK==null?null:cK.$0;};cn.CopyTo=function(cK,cL,cM){bS.blit(cK,0,cL,cM,bS.length(cK));};cn.Contains=function(cK,cL){return bT.exists(function(cM){return cw.Equals(cL,cM);},cK);};cn.Clear=function(cK){cK.splice(0,bS.length(cK));};co=S.Random=cE.Class({NextBytes:function(cK){var cL,cM;for(cL=0,cM=bS.length(cK)-1;cL<=cM;cL++)bS.set(cK,cL,cJ.floor(cJ.random()*256));},Next:function(cK,cL){return cK>cL?ck.FailWith("'minValue' cannot be greater than maxValue."):cK+cJ.floor(cJ.random()*(cL-cK));},Next$1:function(cK){return cK<0?ck.FailWith("'maxValue' must be greater than zero."):cJ.floor(cJ.random()*cK);},Next$2:function(){return cJ.floor(cJ.random()*2147483648);}},null,co);co.New=cE.Ctor(function(){},co);cp.New=function(cK){return[cK];};cq.MapError=function(cK,cL){return cL.$==1?{$:1,$0:cK(cL.$0)}:{$:0,$0:cL.$0};};cq.Map=function(cK,cL){return cL.$==1?{$:1,$0:cL.$0}:{$:0,$0:cK(cL.$0)};};cq.Bind=function(cK,cL){return cL.$==1?{$:1,$0:cL.$0}:cK(cL.$0);};bT.enumFinally=function(cK,cL){return{GetEnumerator:function(){var cM;try{cM=bM.Get(cK);}catch(cN){cL();throw cN;}return new bN.New(null,null,function(cO){return cM.MoveNext()&&(cO.c=cM.Current(),true);},function(){cM.Dispose();cL();});}};};bT.enumUsing=function(cK,cL){return{GetEnumerator:function(){var cM;try{cM=bM.Get(cL(cK));}catch(cN){cK.Dispose();throw cN;}return new bN.New(null,null,function(cO){return cM.MoveNext()&&(cO.c=cM.Current(),true);},function(){cM.Dispose();cK.Dispose();});}};};bT.enumWhile=function(cK,cL){return{GetEnumerator:function(){return new bN.New(null,null,function(cM){var cN;while(true){cN=cM.s;if(cw.Equals(cN,null)){if(cK()){cM.s=bM.Get(cL);cM=cM;}else return false;}else if(cN.MoveNext()){cM.c=cN.Current();return true;}else{cN.Dispose();cM.s=null;cM=cM;}}},function(cM){var cN;cN=cM.s;!cw.Equals(cN,null)?cN.Dispose():void 0;});}};};bc.createEvent=function(cK,cL,cM){return{AddHandler:cK,RemoveHandler:cL,Subscribe:function(cN){var cO;cO=cM(function(){return function(cP){return cN.OnNext(cP);};});cK(cO);return{Dispose:function(){return cL(cO);}};}};};bT.allPairs=function(cK,cL){var cM;cM=bT.cache(cL);return bT.collect(function(cN){return bT.map(function(cO){return[cN,cO];},cM);},cK);};bT.append=function(cK,cL){return{GetEnumerator:function(){var cM;cM=[true];return new bN.New(bM.Get(cK),null,function(cN){var cO;return cN.s.MoveNext()?(cN.c=cN.s.Current(),true):(cO=cN.s,!cw.Equals(cO,null)?cO.Dispose():void 0,cN.s=null,cM[0]&&(cM[0]=false,cN.s=bM.Get(cL),cN.s.MoveNext()?(cN.c=cN.s.Current(),true):(cN.s.Dispose(),cN.s=null,false)));},function(cN){var cO;cO=cN.s;!cw.Equals(cO,null)?cO.Dispose():void 0;});}};};bT.average=function(cK){var cL,cM;cL=bT.fold(function(cN,cO){return(function(cP){var cQ,cR;cQ=cP[0];cR=cP[1];return function(cS){return[cQ+1,cR+cS];};}(cN))(cO);},[0,0],cK);cM=cL[0];return cM===0?ck.InvalidArg("source","The input sequence was empty."):cL[1]/cM;};bT.averageBy=function(cK,cL){var cM,cN;cM=bT.fold(function(cO,cP){return(function(cQ){var cR,cS;cR=cQ[0];cS=cQ[1];return function(cT){return[cR+1,cS+cK(cT)];};}(cO))(cP);},[0,0],cL);cN=cM[0];return cN===0?ck.InvalidArg("source","The input sequence was empty."):cM[1]/cN;};bT.cache=function(cK){var cL,cM;cL=[];cM=[bM.Get(cK)];return{GetEnumerator:function(){return new bN.New(0,null,function(cN){var cO;return cN.s<cL.length?(cN.c=cL[cN.s],cN.s=cN.s+1,true):(cO=cM[0],cw.Equals(cO,null)?false:cO.MoveNext()?(cN.s=cN.s+1,cN.c=cO.Current(),cL.push(cN.c),true):(cO.Dispose(),cM[0]=null,false));},void 0);}};};bT.choose=function(cK,cL){return bT.collect(function(cM){var cN;cN=cK(cM);return cN==null?ci.Empty:bU.ofArray([cN.$0]);},cL);};bT.collect=function(cK,cL){return bT.concat(bT.map(cK,cL));};bT.compareWith=function(cK,cL,cM){var cN,cO,cP,cQ,cR;cN=bM.Get(cL);try{cP=bM.Get(cM);try{cQ=0;cR=true;while(cR&&cQ===0)if(cN.MoveNext())cQ=cP.MoveNext()?cK(cN.Current(),cP.Current()):1;else if(cP.MoveNext())cQ=-1;else cR=false;cO=cQ;}finally{if("Dispose"in cP)cP.Dispose();}return cO;}finally{if("Dispose"in cN)cN.Dispose();}};bT.concat=function(cK){return{GetEnumerator:function(){var cL;cL=bM.Get(cK);return new bN.New(null,null,function(cM){var cN;while(true){cN=cM.s;if(cw.Equals(cN,null)){if(cL.MoveNext()){cM.s=bM.Get(cL.Current());cM=cM;}else{cL.Dispose();return false;}}else if(cN.MoveNext()){cM.c=cN.Current();return true;}else{cM.Dispose();cM.s=null;cM=cM;}}},function(cM){var cN;cN=cM.s;!cw.Equals(cN,null)?cN.Dispose():void 0;!cw.Equals(cL,null)?cL.Dispose():void 0;});}};};bT.countBy=function(cK,cL){return bT.delay(function(){return bS.countBy(cK,bS.ofSeq(cL));});};bT.delay=function(cK){return{GetEnumerator:function(){return bM.Get(cK());}};};bT.distinct=function(cK){return bT.distinctBy(a.id,cK);};bT.distinctBy=function(cK,cL){return{GetEnumerator:function(){var cM,cN;cM=bM.Get(cL);cN=new cg.New$3();return new bN.New(null,null,function(cO){var cP,cQ;if(cM.MoveNext()){cP=cM.Current();cQ=cN.Add(cK(cP));while(!cQ&&cM.MoveNext()){cP=cM.Current();cQ=cN.Add(cK(cP));}return cQ&&(cO.c=cP,true);}else return false;},function(){cM.Dispose();});}};};bT.splitInto=function(cK,cL){cK<=0?ck.FailWith("Count must be positive"):void 0;return bT.delay(function(){return bS.splitInto(cK,bS.ofSeq(cL));});};bT.exactlyOne=function(cK){var cL,cM;cL=bM.Get(cK);try{return cL.MoveNext()?(cM=cL.Current(),cL.MoveNext()?ck.InvalidOp("Sequence contains more than one element"):cM):ck.InvalidOp("Sequence contains no elements");}finally{if("Dispose"in cL)cL.Dispose();}};bT.exists=function(cK,cL){var cM,cN;cM=bM.Get(cL);try{cN=false;while(!cN&&cM.MoveNext())cN=cK(cM.Current());return cN;}finally{if("Dispose"in cM)cM.Dispose();}};bT.exists2=function(cK,cL,cM){var cN,cO,cP,cQ;cN=bM.Get(cL);try{cP=bM.Get(cM);try{cQ=false;while(!cQ&&cN.MoveNext()&&cP.MoveNext())cQ=cK(cN.Current(),cP.Current());cO=cQ;}finally{if("Dispose"in cP)cP.Dispose();}return cO;}finally{if("Dispose"in cN)cN.Dispose();}};bT.filter=function(cK,cL){return{GetEnumerator:function(){var cM;cM=bM.Get(cL);return new bN.New(null,null,function(cN){var cO,cP,cQ;cO=cM.MoveNext();cP=cM.Current();cQ=false;while(cO)if(cK(cP)){cN.c=cP;cQ=true;cO=false;}else if(cM.MoveNext())cP=cM.Current();else cO=false;return cQ;},function(){cM.Dispose();});}};};bT.find=function(cK,cL){var cM;cM=bT.tryFind(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bT.findIndex=function(cK,cL){var cM;cM=bT.tryFindIndex(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bT.fold=function(cK,cL,cM){var cN,cO;cN=cL;cO=bM.Get(cM);try{while(cO.MoveNext())cN=cK(cN,cO.Current());return cN;}finally{if("Dispose"in cO)cO.Dispose();}};bT.forall=function(cK,cL){return!bT.exists(function(cM){return!cK(cM);},cL);};bT.forall2=function(cK,cL,cM){return!bT.exists2(function(cN,cO){return!cK(cN,cO);},cL,cM);};bT.groupBy=function(cK,cL){return bT.delay(function(){return bS.groupBy(cK,bS.ofSeq(cL));});};bT.head=function(cK){var cL;cL=bM.Get(cK);try{return cL.MoveNext()?cL.Current():bT.insufficient();}finally{if("Dispose"in cL)cL.Dispose();}};bT.init=function(cK,cL){return bT.take(cK,bT.initInfinite(cL));};bT.initInfinite=function(cK){return{GetEnumerator:function(){return new bN.New(0,null,function(cL){cL.c=cK(cL.s);cL.s=cL.s+1;return true;},void 0);}};};bT.isEmpty=function(cK){var cL;cL=bM.Get(cK);try{return!cL.MoveNext();}finally{if("Dispose"in cL)cL.Dispose();}};bT.iter=function(cK,cL){var cM;cM=bM.Get(cL);try{while(cM.MoveNext())cK(cM.Current());}finally{if("Dispose"in cM)cM.Dispose();}};bT.iter2=function(cK,cL,cM){var cN,cO,cP;cN=bM.Get(cL);try{cP=bM.Get(cM);try{while(cN.MoveNext()&&cP.MoveNext())cK(cN.Current(),cP.Current());cO=void 0;}finally{if("Dispose"in cP)cP.Dispose();}cO;}finally{if("Dispose"in cN)cN.Dispose();}};bT.iteri=function(cK,cL){var cM,cN;cM=0;cN=bM.Get(cL);try{while(cN.MoveNext()){cK(cM,cN.Current());cM=cM+1;}}finally{if("Dispose"in cN)cN.Dispose();}};bT.length=function(cK){var cL,cM;cL=0;cM=bM.Get(cK);try{while(cM.MoveNext())cL=cL+1;return cL;}finally{if("Dispose"in cM)cM.Dispose();}};bT.map=function(cK,cL){return{GetEnumerator:function(){var cM;cM=bM.Get(cL);return new bN.New(null,null,function(cN){return cM.MoveNext()&&(cN.c=cK(cM.Current()),true);},function(){cM.Dispose();});}};};bT.mapi=function(cK,cL){return bT.map2(cK,bT.initInfinite(a.id),cL);};bT.map2=function(cK,cL,cM){return{GetEnumerator:function(){var cN,cO;cN=bM.Get(cL);cO=bM.Get(cM);return new bN.New(null,null,function(cP){return cN.MoveNext()&&cO.MoveNext()&&(cP.c=cK(cN.Current(),cO.Current()),true);},function(){cN.Dispose();cO.Dispose();});}};};bT.maxBy=function(cK,cL){return bT.reduce(function(cM,cN){return cw.Compare(cK(cM),cK(cN))>=0?cM:cN;},cL);};bT.minBy=function(cK,cL){return bT.reduce(function(cM,cN){return cw.Compare(cK(cM),cK(cN))<=0?cM:cN;},cL);};bT.max=function(cK){return bT.reduce(function(cL,cM){return cw.Compare(cL,cM)>=0?cL:cM;},cK);};bT.min=function(cK){return bT.reduce(function(cL,cM){return cw.Compare(cL,cM)<=0?cL:cM;},cK);};bT.nth=function(cK,cL){var cM,cN;if(cK<0)ck.FailWith("negative index requested");cM=-1;cN=bM.Get(cL);try{while(cM<cK){!cN.MoveNext()?bT.insufficient():void 0;cM=cM+1;}return cN.Current();}finally{if("Dispose"in cN)cN.Dispose();}};bT.pairwise=function(cK){return bT.map(function(cL){return[bS.get(cL,0),bS.get(cL,1)];},bT.windowed(2,cK));};bT.pick=function(cK,cL){var cM;cM=bT.tryPick(cK,cL);return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bT.readOnly=function(cK){return{GetEnumerator:function(){return bM.Get(cK);}};};bT.reduce=function(cK,cL){var cM,cN;cM=bM.Get(cL);try{if(!cM.MoveNext())ck.FailWith("The input sequence was empty");cN=cM.Current();while(cM.MoveNext())cN=cK(cN,cM.Current());return cN;}finally{if("Dispose"in cM)cM.Dispose();}};bT.scan=function(cK,cL,cM){return{GetEnumerator:function(){var cN;cN=bM.Get(cM);return new bN.New(false,null,function(cO){return cO.s?cN.MoveNext()&&(cO.c=cK(cO.c,cN.Current()),true):(cO.c=cL,cO.s=true,true);},function(){cN.Dispose();});}};};bT.skip=function(cK,cL){return{GetEnumerator:function(){var cM;cM=bM.Get(cL);return new bN.New(true,null,function(cN){var cO,cP;if(cN.s){for(cO=1,cP=cK;cO<=cP;cO++)if(!cM.MoveNext())bT.insufficient();cN.s=false;}else null;return cM.MoveNext()&&(cN.c=cM.Current(),true);},function(){cM.Dispose();});}};};bT.skipWhile=function(cK,cL){return{GetEnumerator:function(){var cM;cM=bM.Get(cL);return new bN.New(true,null,function(cN){var cO,cP;if(cN.s){cO=true;cP=false;while(cO)if(cM.MoveNext()){if(!cK(cM.Current()))cO=false;}else{cO=false;cP=true;}cN.s=false;return cP?false:(cN.c=cM.Current(),true);}else return cM.MoveNext()&&(cN.c=cM.Current(),true);},function(){cM.Dispose();});}};};bT.sort=function(cK){return bT.sortBy(a.id,cK);};bT.sortBy=function(cK,cL){return bT.delay(function(){var cM;cM=bS.ofSeq(cL);bS.sortInPlaceBy(cK,cM);return cM;});};bT.sortByDescending=function(cK,cL){return bT.delay(function(){var cM;cM=bS.ofSeq(cL);bS.sortInPlaceByDescending(cK,cM);return cM;});};bT.sortDescending=function(cK){return bT.sortByDescending(a.id,cK);};bT.sum=function(cK){return bT.fold(function(cL,cM){return cL+cM;},0,cK);};bT.sumBy=function(cK,cL){return bT.fold(function(cM,cN){return cM+cK(cN);},0,cL);};bT.take=function(cK,cL){cK<0?bT.nonNegative():void 0;return{GetEnumerator:function(){var cM;cM=[bM.Get(cL)];return new bN.New(0,null,function(cN){var cO;cN.s=cN.s+1;return cN.s>cK?false:(cO=cM[0],cw.Equals(cO,null)?bT.insufficient():cO.MoveNext()?(cN.c=cO.Current(),cN.s===cK?(cO.Dispose(),cM[0]=null):void 0,true):(cO.Dispose(),cM[0]=null,bT.insufficient()));},function(){var cN;cN=cM[0];!cw.Equals(cN,null)?cN.Dispose():void 0;});}};};bT.takeWhile=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cL),function(cM){return bT.enumWhile(function(){return cM.MoveNext()&&cK(cM.Current());},bT.delay(function(){return[cM.Current()];}));});});};bT.truncate=function(cK,cL){return bT.delay(function(){return bT.enumUsing(bM.Get(cL),function(cM){var cN;cN=[0];return bT.enumWhile(function(){return cM.MoveNext()&&cN[0]<cK;},bT.delay(function(){cN[0]++;return[cM.Current()];}));});});};bT.tryFind=function(cK,cL){var cM,cN,cO;cM=bM.Get(cL);try{cN=null;while(cN==null&&cM.MoveNext()){cO=cM.Current();cK(cO)?cN={$:1,$0:cO}:void 0;}return cN;}finally{if("Dispose"in cM)cM.Dispose();}};bT.findBack=function(cK,cL){var cM;cM=bS.tryFindBack(cK,bS.ofSeq(cL));return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bT.tryFindIndex=function(cK,cL){var cM,cN,cO;cM=bM.Get(cL);try{cN=true;cO=0;while(cN&&cM.MoveNext())if(cK(cM.Current()))cN=false;else cO=cO+1;return cN?null:{$:1,$0:cO};}finally{if("Dispose"in cM)cM.Dispose();}};bT.findIndexBack=function(cK,cL){var cM;cM=bS.tryFindIndexBack(cK,bS.ofSeq(cL));return cM==null?ck.FailWith("KeyNotFoundException"):cM.$0;};bT.tryPick=function(cK,cL){var cM,cN;cM=bM.Get(cL);try{cN=null;while(cw.Equals(cN,null)&&cM.MoveNext())cN=cK(cM.Current());return cN;}finally{if("Dispose"in cM)cM.Dispose();}};bT.unfold=function(cK,cL){return{GetEnumerator:function(){return new bN.New(cL,null,function(cM){var cN;cN=cK(cM.s);return cN==null?false:(cM.c=cN.$0[0],cM.s=cN.$0[1],true);},void 0);}};};bT.windowed=function(cK,cL){cK<=0?ck.FailWith("The input must be positive."):void 0;return bT.delay(function(){return bT.enumUsing(bM.Get(cL),function(cM){var cN;cN=[];return bT.append(bT.enumWhile(function(){return cN.length<cK&&cM.MoveNext();},bT.delay(function(){cN.push(cM.Current());return[];})),bT.delay(function(){return cN.length===cK?bT.append([cN.slice(0)],bT.delay(function(){return bT.enumWhile(function(){return cM.MoveNext();},bT.delay(function(){cN.shift();cN.push(cM.Current());return[cN.slice(0)];}));})):[];}));});});};bT.zip=function(cK,cL){return bT.map2(function(cM,cN){return[cM,cN];},cK,cL);};bT.map3=function(cK,cL,cM,cN){return{GetEnumerator:function(){var cO,cP,cQ;cO=bM.Get(cL);cP=bM.Get(cM);cQ=bM.Get(cN);return new bN.New(null,null,function(cR){return cO.MoveNext()&&cP.MoveNext()&&cQ.MoveNext()&&(cR.c=cK(cO.Current(),cP.Current(),cQ.Current()),true);},function(){cO.Dispose();cP.Dispose();cQ.Dispose();});}};};bT.zip3=function(cK,cL,cM){return bT.map3(function(cN,cO,cP){return[cN,cO,cP];},cK,cL,cM);};bT.fold2=function(cK,cL,cM,cN){return bS.fold2(cK,cL,bS.ofSeq(cM),bS.ofSeq(cN));};bT.foldBack=function(cK,cL,cM){return bS.foldBack(cK,bS.ofSeq(cL),cM);};bT.foldBack2=function(cK,cL,cM,cN){return bS.foldBack2(cK,bS.ofSeq(cL),bS.ofSeq(cM),cN);};bT.iteri2=function(cK,cL,cM){var cN,cO,cP,cQ;cN=0;cO=bM.Get(cL);try{cQ=bM.Get(cM);try{while(cO.MoveNext()&&cQ.MoveNext()){cK(cN,cO.Current(),cQ.Current());cN=cN+1;}cP=void 0;}finally{if("Dispose"in cQ)cQ.Dispose();}cP;}finally{if("Dispose"in cO)cO.Dispose();}};bT.mapi2=function(cK,cL,cM){return bT.map3(function(cN,cO,cP){return((cK(cN))(cO))(cP);},bT.initInfinite(a.id),cL,cM);};bT.mapFold=function(cK,cL,cM){return bS.mapFold(cK,cL,bS.ofSeq(cM));};bT.mapFoldBack=function(cK,cL,cM){return bS.mapFoldBack(cK,bS.ofSeq(cL),cM);};bT.permute=function(cK,cL){return bT.delay(function(){return bS.permute(cK,bS.ofSeq(cL));});};bT.reduceBack=function(cK,cL){return bS.reduceBack(cK,bS.ofSeq(cL));};bT.replicate=function(cK,cL){cK<0?bT.nonNegative():void 0;return bT.delay(function(){return bT.map(function(){return cL;},ck.range(0,cK-1));});};bT.rev=function(cK){return bT.delay(function(){return bS.ofSeq(cK).slice().reverse();});};bT.scanBack=function(cK,cL,cM){return bT.delay(function(){return bS.scanBack(cK,bS.ofSeq(cL),cM);});};bT.indexed=function(cK){return bT.mapi(function(cL,cM){return[cL,cM];},cK);};bT.sortWith=function(cK,cL){return bT.delay(function(){var cM;cM=bS.ofSeq(cL);bS.sortInPlaceWith(cK,cM);return cM;});};bT.tail=function(cK){return bT.skip(1,cK);};cr.CopyTo=function(cK,cL,cM){bS.blit(cL,0,cL,cM,bS.length(cK));};cr.Contains=function(cK,cL){return bT.exists(function(cM){return cw.Equals(cL,cM);},cK);};cr.Clear=function(cK){cK.splice(0,bS.length(cK));};cs.RegexEscape=function(cK){return cK.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};cs.SplitWith=function(cK,cL){return cK.split(cL);};cs.Join=function(cK,cL){return cL.join(cK);};cs.TrimEndWS=function(cK){return cK.replace(new a.RegExp("\\s+$"),"");};cs.TrimStartWS=function(cK){return cK.replace(new a.RegExp("^\\s+"),"");};cs.Trim=function(cK){return cK.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};cs.StartsWith=function(cK,cL){return cK.substring(0,cL.length)==cL;};cs.Substring=function(cK,cL,cM){return cK.substr(cL,cM);};cs.ReplaceOnce=function(cK,cL,cM){return cK.replace(cL,cM);};cs.Remove=function(cK,cL,cM){return cK.substring(0,cL)+cK.substring(cL+cM);};cs.PadRightWith=function(cK,cL,cM){return cL>cK.length?cK+a.Array(cL-cK.length+1).join(cI.fromCharCode(cM)):cK;};cs.PadLeftWith=function(cK,cL,cM){return cL>cK.length?a.Array(cL-cK.length+1).join(cI.fromCharCode(cM))+cK:cK;};cs.LastIndexOf=function(cK,cL,cM){return cK.lastIndexOf(cI.fromCharCode(cL),cM);};cs.IsNullOrWhiteSpace=function(cK){return cK==null||(new a.RegExp("^\\s*$")).test(cK);};cs.IsNullOrEmpty=function(cK){return cK==null||cK=="";};cs.Insert=function(cK,cL,cM){return cK.substring(0,cL-1)+cM+cK.substring(cL);};cs.IndexOf=function(cK,cL,cM){return cK.indexOf(cI.fromCharCode(cL),cM);};cs.EndsWith=function(cK,cL){return cK.substring(cK.length-cL.length)==cL;};cs.collect=function(cK,cL){return bS.init(cL.length,function(cM){return cK(cL.charCodeAt(cM));}).join("");};cs.concat=function(cK,cL){return bS.ofSeq(cL).join(cK);};cs.exists=function(cK,cL){return bT.exists(cK,cs.protect(cL));};cs.forall=function(cK,cL){return bT.forall(cK,cs.protect(cL));};cs.init=function(cK,cL){return bS.init(cK,cL).join("");};cs.iter=function(cK,cL){bT.iter(cK,cs.protect(cL));};cs.iteri=function(cK,cL){bT.iteri(cK,cs.protect(cL));};cs.length=function(cK){return cs.protect(cK).length;};cs.map=function(cK,cL){return cs.collect(function(cM){return cI.fromCharCode(cK(cM));},cs.protect(cL));};cs.mapi=function(cK,cL){return bS.ofSeq(bT.mapi(function(cM,cN){return cI.fromCharCode(cK(cM,cN));},cL)).join("");};cs.replicate=function(cK,cL){return cs.init(cK,function(){return cL;});};cs.protect=function(cK){return cK===null?"":cK;};cs.SFormat=function(cK,cL){return cK.replace(new a.RegExp("{(0|[1-9]\\d*)(?:,(-?[1-9]\\d*|0))?(?::(.*?))?}","g"),function(cM,cN,cO){var cP,cQ,cR;cP=cI(bS.get(cL,+cN));return!cw.Equals(cO,void 0)?(cQ=+cO,(cR=cJ.abs(cQ),cR>cP.length?cQ>0?cs.PadLeft(cP,cR):cs.PadRight(cP,cR):cP)):cP;});};cs.Filter=function(cK,cL){return bS.ofSeq(bT.choose(function(cM){return cK(cM)?{$:1,$0:cI.fromCharCode(cM)}:null;},cL)).join("");};cs.SplitStrings=function(cK,cL,cM){return cs.Split(cK,new a.RegExp(cs.concat("|",bS.map(cs.RegexEscape,cL))),cM);};cs.SplitChars=function(cK,cL,cM){return cs.Split(cK,new a.RegExp("["+cs.RegexEscape(cI.fromCharCode.apply(void 0,cL))+"]"),cM);};cs.Split=function(cK,cL,cM){return cM===1?bS.filter(function(cN){return cN!=="";},cs.SplitWith(cK,cL)):cs.SplitWith(cK,cL);};cs.TrimEnd=function(cK,cL){var cM,cN;if(cw.Equals(cL,null)||cL.length==0)return cs.TrimEndWS(cK);else{cM=cK.length-1;cN=true;while(cM>=0&&cN)(function(){var cO;cO=cK.charCodeAt(cM);return bS.exists(function(cP){return cO===cP;},cL)?void(cM=cM-1):void(cN=false);}());return cs.Substring(cK,0,cM+1);}};cs.TrimStart=function(cK,cL){var cM,cN;if(cw.Equals(cL,null)||cL.length==0)return cs.TrimStartWS(cK);else{cM=0;cN=true;while(cM<cK.length&&cN)(function(){var cO;cO=cK.charCodeAt(cM);return bS.exists(function(cP){return cO===cP;},cL)?void(cM=cM+1):void(cN=false);}());return cK.substring(cM);}};cs.ToCharArrayRange=function(cK,cL,cM){return bS.init(cM,function(cN){return cK.charCodeAt(cL+cN);});};cs.ToCharArray=function(cK){return bS.init(cK.length,function(cL){return cK.charCodeAt(cL);});};cs.ReplaceChar=function(cK,cL,cM){return cs.Replace(cK,cI.fromCharCode(cL),cI.fromCharCode(cM));};cs.Replace=function(cK,cL,cM){function cN(cO){var cP,cQ,cR;cP=cO.indexOf(cL);return cP!==-1?(cQ=cs.ReplaceOnce(cO,cL,cM),(cR=cP+cM.length,cs.Substring(cQ,0,cP+cM.length)+cN(cQ.substring(cR)))):cO;}return cN(cK);};cs.PadRight=function(cK,cL){return cs.PadRightWith(cK,cL,32);};cs.PadLeft=function(cK,cL){return cs.PadLeftWith(cK,cL,32);};cs.CopyTo=function(cK,cL,cM,cN,cO){bS.blit(cs.ToCharArray(cK),cL,cM,cN,cO);};cs.Compare=function(cK,cL){return cw.Compare(cK,cL);};ct=S.Task=cE.Class({Execute:function(){this.action();},Start:function(){var cK;cK=this;cw.Equals(this.status,0)?(this.status=2,bJ.scheduler().Fork(function(){var cL;cK.status=3;try{cK.Execute();cK.status=5;}catch(cM){cM instanceof b8&&(cw.Equals(cM.ct,cK.token)&&(cL=cM,true))?(cH.log("Task cancellation caught:",cL),cK.exc=new ca.New$3([cL]),cK.status=6):(cH.log("Task error caught:",cM),cK.exc=new ca.New$3([cM]),cK.status=7);}cK.RunContinuations();})):ck.InvalidOp("Task not in initial state");},StartContinuation:function(){var cK;cK=this;cw.Equals(this.status,1)?(this.status=2,bJ.scheduler().Fork(function(){if(cw.Equals(cK.status,2)){cK.status=3;try{cK.Execute();cK.status=5;}catch(cL){cK.exc=new ca.New$3([cL]);cK.status=7;}cK.RunContinuations();}})):void 0;},ContinueWith:function(cK,cL){var cM,cN;cM=this;cN=new cu.New(function(){return cK(cM);},cL,1,null,void 0);this.get_IsCompleted()?cN.StartContinuation():this.continuations.push(cN);return cN;},ContinueWith$1:function(cK,cL){var cM,cN;cM=this;cN=new ct.New$2(function(){return cK(cM);},cL,1,null);this.get_IsCompleted()?cN.StartContinuation():this.continuations.push(cN);return cN;},ContinueWith$2:function(cK){return this.ContinueWith$1(cK,bJ.noneCT());},RunContinuations:function(){var cK,cL,cM;cK=this.continuations;for(cL=0,cM=cK.length-1;cL<=cM;cL++)bS.get(cK,cL).StartContinuation();},OnCompleted:function(cK){if(this.get_IsCompleted())cK();else{cw.Equals(this.get_Status(),0)?this.Start():void 0;this.ContinueWith$2(function(){return cK();});}},get_Status:function(){return this.status;},get_IsFaulted:function(){return cw.Equals(this.status,7);},get_IsCompleted:function(){return cw.Equals(this.status,5)||cw.Equals(this.status,7)||cw.Equals(this.status,6);},get_IsCanceled:function(){return cw.Equals(this.status,6);},get_Exception:function(){return this.exc;}},null,ct);ct.WhenAll=function(cK){var cL,cM,cN,cO,cP,cQ;cL=bS.length(cK);cM=[0];cN=new a.Array(cL);cO=new cv.New();for(cP=0,cQ=cL-1;cP<=cQ;cP++)(function(cR){bS.get(cK,cP).ContinueWith$2(function(cS){return cS.get_IsFaulted()?void cO.TrySetException$1(cS.get_Exception()):cS.get_IsCanceled()?void cO.TrySetCanceled$1():(cM[0]++,cN[cR]=cS.get_Result(),cM[0]===cL?cO.SetResult(cN):null);});}(cP));return cO.get_Task();};ct.WhenAll$1=function(cK){var cL,cM,cN,cO,cP;cL=bS.length(cK);cM=[0];cN=new cv.New();for(cO=0,cP=cL-1;cO<=cP;cO++)bS.get(cK,cO).ContinueWith$2(function(cQ){return cQ.get_IsFaulted()?void cN.TrySetException$1(cQ.get_Exception()):cQ.get_IsCanceled()?void cN.TrySetCanceled$1():(cM[0]++,cM[0]===cL?void cN.TrySetResult():null);});return cN.get_Task();};ct.WhenAny=function(cK){var cL,cM,cN;cL=new cv.New();for(cM=0,cN=cK.length-1;cM<=cN;cM++)bS.get(cK,cM).ContinueWith(function(cO){cL.TrySetResult(cO);},bJ.noneCT());return cL.get_Task();};ct.WhenAny$1=function(cK){var cL,cM,cN;cL=new cv.New();for(cM=0,cN=cK.length-1;cM<=cN;cM++)bS.get(cK,cM).ContinueWith$2(function(cO){cL.TrySetResult(cO);});return cL.get_Task();};ct.Delay=function(cK,cL){return bJ.StartAsTask(bJ.Sleep(cK),{$:1,$0:cL});};ct.Delay$1=function(cK){return bJ.StartAsTask(bJ.Sleep(cK),null);};ct.Run=function(cK,cL){var cM;cM=cK();return cL.c?ct.FromCanceled(cL):(cw.Equals(cM.get_Status(),0)?cM.Start():void 0,cM);};ct.Run$1=function(cK,cL){var cM;cM=new cu.New(cK,cL,0,null,void 0);cM.Start();return cM;};ct.Run$2=function(cK,cL){var cM;cM=cK();return cL.c?ct.FromCanceled$1(cL):(cw.Equals(cM.get_Status(),0)?cM.Start():void 0,cM);};ct.Run$3=function(cK,cL){var cM;cM=new ct.New$2(cK,cL,0,null);cM.Start();return cM;};ct.FromResult=function(cK){return new cu.New(null,bJ.noneCT(),5,null,cK);};ct.FromException=function(cK){return new cu.New(null,bJ.noneCT(),7,new ca.New$3([cK]),null);};ct.FromException$1=function(cK){return new ct.New$2(null,bJ.noneCT(),7,new ca.New$3([cK]));};ct.FromCanceled=function(cK){return new cu.New(null,cK,6,null,null);};ct.FromCanceled$1=function(cK){return new ct.New$2(null,cK,6,null);};ct.New=cE.Ctor(function(cK,cL){ct.New$2.call(this,cK,cL,0,null);},ct);ct.New$1=cE.Ctor(function(cK){ct.New$2.call(this,cK,bJ.noneCT(),0,null);},ct);ct.New$2=cE.Ctor(function(cK,cL,cM,cN){this.action=cK;this.token=cL;this.status=cM;this.continuations=[];this.exc=cN;},ct);cu=S.Task1=cE.Class({get_Result:function(){return this.result;},Execute:function(){this.result=this.func();}},ct,cu);cu.New=cE.Ctor(function(cK,cL,cM,cN,cO){ct.New$2.call(this,null,cL,cM,cN);this.func=cK;this.result=cO;},cu);cv=S.TaskCompletionSource=cE.Class({TrySetResult:function(cK){return!this.task.get_IsCompleted()&&(this.task.status=5,this.task.result=cK,this.task.RunContinuations(),true);},TrySetException:function(cK){return this.TrySetException$1(new ca.New$2(cK));},TrySetException$1:function(cK){return!this.task.get_IsCompleted()&&(this.task.status=7,this.task.exc=new ca.New$3([cK]),this.task.RunContinuations(),true);},TrySetCanceled:function(cK){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},TrySetCanceled$1:function(){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},SetResult:function(cK){this.task.get_IsCompleted()?ck.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=cK;this.task.RunContinuations();},SetException:function(cK){this.SetException$1(new ca.New$2(cK));},SetException$1:function(cK){this.task.get_IsCompleted()?ck.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new ca.New$3([cK]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?ck.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},null,cv);cv.New=cE.Ctor(function(){this.task=new cu.New(null,bJ.noneCT(),1,null,void 0);},cv);cw.Hash=function(cK){var cL;cL=typeof cK;return cL=="function"?0:cL=="boolean"?cK?1:0:cL=="number"?cK:cL=="string"?cw.hashString(cK):cL=="object"?cK==null?0:cK instanceof a.Array?cw.hashArray(cK):cw.hashObject(cK):0;};cw.hashObject=function(cK){var cL,cM;if("GetHashCode"in cK)return cK.GetHashCode();else{cL=[0];for(var cN in cK)if(function(cO){cL[0]=cw.hashMix(cw.hashMix(cL[0],cw.hashString(cO)),cw.Hash(cK[cO]));return false;}(cN))break;return cL[0];}};cw.hashString=function(cK){var cL,cM,cN;if(cK===null)return 0;else{cL=5381;for(cM=0,cN=cK.length-1;cM<=cN;cM++)cL=cw.hashMix(cL,cK.charCodeAt(cM)<<0);return cL;}};cw.hashArray=function(cK){var cL,cM,cN;cL=-34948909;for(cM=0,cN=bS.length(cK)-1;cM<=cN;cM++)cL=cw.hashMix(cL,cw.Hash(bS.get(cK,cM)));return cL;};cw.hashMix=function(cK,cL){return(cK<<5)+cK+cL;};cw.Equals=function(cK,cL){var cM,cN,cO,cP;if(cK===cL)return true;else{cM=typeof cK;if(cM=="object"){if(cK===null||cK===void 0||cL===null||cL===void 0)return false;else if("Equals"in cK)return cK.Equals(cL);else if(cK instanceof a.Array&&cL instanceof a.Array)return cw.arrayEquals(cK,cL);else if(cK instanceof cG&&cL instanceof cG)return cw.dateEquals(cK,cL);else{cN=[true];for(var cQ in cK)if(function(cR){cN[0]=!cK.hasOwnProperty(cR)||cL.hasOwnProperty(cR)&&cw.Equals(cK[cR],cL[cR]);return!cN[0];}(cQ))break;if(cN[0]){for(var cR in cL)if(function(cS){cN[0]=!cL.hasOwnProperty(cS)||cK.hasOwnProperty(cS);return!cN[0];}(cR))break;}return cN[0];}}else return cM=="function"&&("$Func"in cK?cK.$Func===cL.$Func&&cK.$Target===cL.$Target:"$Invokes"in cK&&"$Invokes"in cL&&cw.arrayEquals(cK.$Invokes,cL.$Invokes));}};cw.dateEquals=function(cK,cL){return cK.getTime()===cL.getTime();};cw.arrayEquals=function(cK,cL){var cM,cN;if(bS.length(cK)===bS.length(cL)){cM=true;cN=0;while(cM&&cN<bS.length(cK)){!cw.Equals(bS.get(cK,cN),bS.get(cL,cN))?cM=false:void 0;cN=cN+1;}return cM;}else return false;};cw.Compare=function(cK,cL){var cM,cN,cO,cP,cQ,cR;if(cK===cL)return 0;else{cN=typeof cK;switch(cN=="function"?1:cN=="boolean"?2:cN=="number"?2:cN=="string"?2:cN=="object"?3:0){case 0:return typeof cL=="undefined"?0:-1;break;case 1:return ck.FailWith("Cannot compare function values.");break;case 2:return cK<cL?-1:1;break;case 3:if(cK===null)cO=-1;else if(cL===null)cO=1;else if("CompareTo"in cK)cO=cK.CompareTo(cL);else if("CompareTo0"in cK)cO=cK.CompareTo0(cL);else if(cK instanceof a.Array&&cL instanceof a.Array)cO=cw.compareArrays(cK,cL);else if(cK instanceof cG&&cL instanceof cG)cO=cw.compareDates(cK,cL);else{cP=[0];for(var cS in cK)if(function(cT){return!cK.hasOwnProperty(cT)?false:!cL.hasOwnProperty(cT)?(cP[0]=1,true):(cP[0]=cw.Compare(cK[cT],cL[cT]),cP[0]!==0);}(cS))break;if(cP[0]===0){for(var cT in cL)if(function(cU){return!cL.hasOwnProperty(cU)?false:!cK.hasOwnProperty(cU)&&(cP[0]=-1,true);}(cT))break;}cO=cP[0];}return cO;break;}}};cw.compareDates=function(cK,cL){return cw.Compare(cK.getTime(),cL.getTime());};cw.compareArrays=function(cK,cL){var cM,cN;if(bS.length(cK)<bS.length(cL))return -1;else if(bS.length(cK)>bS.length(cL))return 1;else{cM=0;cN=0;while(cM===0&&cN<bS.length(cK)){cM=cw.Compare(bS.get(cK,cN),bS.get(cL,cN));cN=cN+1;}return cM;}};cx.TryParse=function(cK,cL,cM,cN){var cO,cP;cO=+cK;cP=cO===cO-cO%1&&cO>=cL&&cO<=cM;cP?cN.set(cO):void 0;return cP;};cx.Parse=function(cK,cL,cM,cN){var cO;cO=+cK;if(cO!==cO-cO%1)throw new cc.New$1("Input string was not in a correct format.");else if(cO<cL||cO>cM)throw new cd.New$1(cN);else return cO;};cx.ParseByte=function(cK){return cx.Parse(cK,0,255,"Value was either too large or too small for an unsigned byte.");};cx.TryParseByte=function(cK,cL){return cx.TryParse(cK,0,255,cL);};cx.ParseSByte=function(cK){return cx.Parse(cK,-128,127,"Value was either too large or too small for a signed byte.");};cx.TryParseSByte=function(cK,cL){return cx.TryParse(cK,-128,127,cL);};cx.ParseInt16=function(cK){return cx.Parse(cK,-32768,32767,"Value was either too large or too small for an Int16.");};cx.TryParseInt16=function(cK,cL){return cx.TryParse(cK,-32768,32767,cL);};cx.ParseInt32=function(cK){return cx.Parse(cK,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};cx.TryParseInt32=function(cK,cL){return cx.TryParse(cK,-2147483648,2147483647,cL);};cx.ParseUInt16=function(cK){return cx.Parse(cK,0,65535,"Value was either too large or too small for an UInt16.");};cx.TryParseUInt16=function(cK,cL){return cx.TryParse(cK,0,65535,cL);};cx.ParseUInt32=function(cK){return cx.Parse(cK,0,4294967295,"Value was either too large or too small for an UInt32.");};cx.TryParseUInt32=function(cK,cL){return cx.TryParse(cK,0,4294967295,cL);};cx.ParseInt64=function(cK){return cx.Parse(cK,-9223372036854775808,9223372036854775807,"Value was either too large or too small for an Int64.");};cx.TryParseInt64=function(cK,cL){return cx.TryParse(cK,-9223372036854775808,9223372036854775807,cL);};cx.ParseUInt64=function(cK){return cx.Parse(cK,0,18446744073709551615,"Value was either too large or too small for an UInt64.");};cx.TryParseUInt64=function(cK,cL){return cx.TryParse(cK,0,18446744073709551615,cL);};cy.DecodeStringDictionary=cE.Curried3(function(cK,cL,cM){var cN,cO,cP;cN=new b5.New$5();cO=cK();for(var cQ in cM)if(function(cR){cN.Add(cR,cO(cM[cR]));return false;}(cQ))break;return cN;});cy.DecodeStringMap=cE.Curried3(function(cK,cL,cM){var cN,cO,cP;cN=[new Y.New([])];cO=cK();for(var cQ in cM)if(function(cR){var cS;cN[0]=(cS=cO(cM[cR]),cN[0].Add(cR,cS));return false;}(cQ))break;return cN[0];});cy.DecodeArray=function(cK){return cy.EncodeArray(cK);};cy.DecodeUnion=function(cK,cL,cM){return function(){return function(cN){var cO,cP,cS,cT,cU;function cQ(cV,cW){return cV===cP;}function cR(cV,cW,cX,cY){var cZ;if(cV===null){cZ=(cX(null))(cN);cW?delete cZ[cL]:void 0;cS.$0=cZ;}else if(cw.Equals(cY,0))cS[cV]=(cX(null))(cN[cW]);else if(cw.Equals(cY,1))cS[cV]=cN.hasOwnProperty(cW)?{$:1,$0:(cX(null))(cN[cW])}:null;else ck.FailWith("Invalid field option kind");}if(typeof cN==="object"&&cN!=null){cS=cK===void 0?{}:new cK();if(cw.Equals(typeof cL,"string"))cO=(cP=cN[cL],bS.findIndex(function(cV){return cQ(cV[0],cV[1]);},cM));else{cT=[void 0];for(var cV in cL)if(function(cW){return cN.hasOwnProperty(cW)&&(cT[0]=cL[cW],true);}(cV))break;cO=cT[0];}cS.$=cO;bS.iter(function(cW){return cR(cW[0],cW[1],cW[2],cW[3]);},(bS.get(cM,cO))[1]);return cS;}else return cN;};};};cy.DecodeRecord=function(cK,cL){return function(){return function(cM){var cN;function cO(cP,cQ,cR){if(cw.Equals(cR,0)){if(cM.hasOwnProperty(cP))cN[cP]=(cQ(null))(cM[cP]);else ck.FailWith("Missing mandatory field: "+cP);}else if(cw.Equals(cR,1))cN[cP]=cM.hasOwnProperty(cP)?{$:1,$0:(cQ(null))(cM[cP])}:null;else if(cw.Equals(cR,2)){if(cM.hasOwnProperty(cP))cN[cP]=(cQ(null))(cM[cP]);}else ck.FailWith("Invalid field option kind");}cN=cK===void 0?{}:new cK();bS.iter(function(cP){return cO(cP[0],cP[1],cP[2]);},cL);return cN;};};};cy.DecodeSet=cE.Curried3(function(cK,cL,cM){return new _0.New$1(U.OfSeq(bS.map(cK(),cM)));});cy.DecodeList=cE.Curried3(function(cK,cL,cM){var cN;cN=cK();return bU.init(bS.length(cM),function(cO){return cN(bS.get(cM,cO));});});cy.DecodeDateTime=cE.Curried3(function(cK,cL,cM){return(new cG(cM)).getTime();});cy.DecodeTuple=function(cK){return cy.EncodeTuple(cK);};cy.EncodeStringDictionary=cE.Curried3(function(cK,cL,cM){var cN,cO,cP,cQ;cN={};cO=cK();cP=bM.Get(cM);try{while(cP.MoveNext()){cQ=ck.KeyValue(cP.Current());cN[cQ[0]]=cO(cQ[1]);}}finally{if("Dispose"in cP)cP.Dispose();}return cN;});cy.EncodeStringMap=cE.Curried3(function(cK,cL,cM){var cN,cO;cN={};cO=cK();Z.Iterate(function(cP,cQ){cN[cP]=cO(cQ);},cM);return cN;});cy.EncodeSet=cE.Curried3(function(cK,cL,cM){var cN,cO;cN=[];cO=cK();bT.iter(function(cP){cN.push(cO(cP));},cM);return cN;});cy.EncodeArray=cE.Curried3(function(cK,cL,cM){return bS.map(cK(),cM);});cy.EncodeUnion=function(cK,cL,cM){return function(){return function(cN){var cO,cP;function cQ(cR,cS,cT,cU){var cV,cW,cX;if(cR===null){cV=(cT(null))(cN.$0);for(var cY in cV)if(function(cZ){cO[cZ]=cV[cZ];return false;}(cY))break;}else if(cw.Equals(cU,0))cO[cS]=(cT(null))(cN[cR]);else if(cw.Equals(cU,1)){cX=cN[cR];cX==null?void 0:cO[cS]=(cT(null))(cX.$0);}else ck.FailWith("Invalid field option kind");}return typeof cN==="object"&&cN!=null?(cO={},(cP=bS.get(cM,cN.$),(cw.Equals(typeof cL,"string")?cO[cL]=cP[0]:void 0,bS.iter(function(cR){return cQ(cR[0],cR[1],cR[2],cR[3]);},cP[1]),cO))):cN;};};};cy.EncodeRecord=function(cK,cL){return function(){return function(cM){var cN;function cO(cP,cQ,cR){var cS;if(cw.Equals(cR,0))cN[cP]=(cQ(null))(cM[cP]);else if(cw.Equals(cR,1)){cS=cM[cP];cS==null?void 0:cN[cP]=(cQ(null))(cS.$0);}else if(cw.Equals(cR,2)){if(cM.hasOwnProperty(cP))cN[cP]=(cQ(null))(cM[cP]);}else ck.FailWith("Invalid field option kind");}cN={};bS.iter(function(cP){return cO(cP[0],cP[1],cP[2]);},cL);return cN;};};};cy.EncodeList=cE.Curried3(function(cK,cL,cM){var cN,cO;cN=[];cO=cK();bU.iter(function(cP){cN.push(cO(cP));},cM);return cN;});cy.EncodeDateTime=cE.Curried3(function(cK,cL,cM){return(new cG(cM)).toISOString();});cy.EncodeTuple=cE.Curried3(function(cK,cL,cM){return bS.map2(function(cN,cO){return(cN(null))(cO);},cK,cM);});cy.Id=cE.Curried3(function(cK,cL,cM){return cM;});cA=cz.Control=cE.Class({Body:function(){return this.get_Body();}},null,cA);cB=cz.FSharpInlineControl=cE.Class({get_Body:function(){return bS.fold(function(cK,cL){return cK[cL];},a,this.funcName).apply(null,this.args);}},cA,cB);cC=cz.InlineControl=cE.Class({get_Body:function(){return bS.fold(function(cK,cL){return cK[cL];},a,this.funcName).apply(null,this.args);}},cA,cC);cE.OnLoad(function(){R.Main();});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
